<!DOCTYPE HTML>
<html lang="zh-hans" >
    <!-- Start book 爬虫课程 -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>mongodb | 爬虫课程</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        <meta name="author" content="zhuwei">
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-splitter/splitter.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-prism/prism-solarizedlight.css">
        
    
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-sectionx/sectionx.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-ace/ace.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-emphasize/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-codeblock-filename/block.css">
        
    
    
        <link rel="stylesheet" href="../styles/website.css">
    

        
    
    
    <link rel="next" href="../scrapy框架/scrapy框架.html" />
    
    
    <link rel="prev" href="../数据保存/数据保存.html" />
    

        <!-- head:end -->
    </head>
    <body>
        <!-- body:start -->
        
    <div class="book"
        data-level="5.1"
        data-chapter-title="mongodb"
        data-filepath="数据保存/mongodb.md"
        data-basepath=".."
        data-revision="Mon Feb 11 2019 22:53:05 GMT+0800 (CST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        爬虫课程介绍
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="爬虫预备知识/爬虫预备知识.html">
            
                
                    <a href="../爬虫预备知识/爬虫预备知识.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        爬虫预备知识
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="爬虫预备知识/爬虫定义、分类和流程.html">
            
                
                    <a href="../爬虫预备知识/爬虫定义、分类和流程.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        爬虫定义、分类和流程
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="爬虫预备知识/http和https的复习.html">
            
                
                    <a href="../爬虫预备知识/http和https的复习.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        http和https的复习
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="网络数据获取/网络数据获取.html">
            
                
                    <a href="../网络数据获取/网络数据获取.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        网络数据获取
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="网络数据获取/请求分析流程.html">
            
                
                    <a href="../网络数据获取/请求分析流程.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        请求分析流程
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="网络数据获取/requests模块介绍与使用.html">
            
                
                    <a href="../网络数据获取/requests模块介绍与使用.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        requests 模块
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="数据提取/数据提取.html">
            
                
                    <a href="../数据提取/数据提取.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        数据提取
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="数据提取/数据提取概念和数据的分类.html">
            
                
                    <a href="../数据提取/数据提取概念和数据的分类.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        数据提取概念和数据的分类
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="数据提取/JSON数据提取.html">
            
                
                    <a href="../数据提取/JSON数据提取.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        JSON 与 jsonpath 数据提取
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="数据提取/使用正则表达式提取数据.html">
            
                
                    <a href="../数据提取/使用正则表达式提取数据.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        正则表达式 数据提取
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="数据提取/xpath数据提取.html">
            
                
                    <a href="../数据提取/xpath数据提取.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        html/xml 与 xpath 数据提取
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="数据提取/bs4数据提取.html">
            
                
                    <a href="../数据提取/bs4数据提取.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        beautifulsoup 数据提取
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="数据提取/csv数据转换.html">
            
                
                    <a href="../数据提取/csv数据转换.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        json、csv 数据转换
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="高级技巧/高级技巧.html">
            
                
                    <a href="../高级技巧/高级技巧.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        高级技巧
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="高级技巧/高性能爬虫.html">
            
                
                    <a href="../高级技巧/高性能爬虫.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        高性能爬虫
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="高级技巧/selenium.html">
            
                
                    <a href="../高级技巧/selenium.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        selenium
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="高级技巧/打码平台.html">
            
                
                    <a href="../高级技巧/打码平台.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        打码平台
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="高级技巧/tesseract.html">
            
                
                    <a href="../高级技巧/tesseract.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        tesseract OCR识别
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="高级技巧/代理池.html">
            
                
                    <a href="../高级技巧/代理池.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        代理池
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="高级技巧/常见反扒手段.html">
            
                
                    <a href="../高级技巧/常见反扒手段.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        常见反扒手段
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="数据保存/数据保存.html">
            
                
                    <a href="../数据保存/数据保存.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        数据保存
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="5.1" data-path="数据保存/mongodb.html">
            
                
                    <a href="../数据保存/mongodb.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        mongodb
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="scrapy框架/scrapy框架.html">
            
                
                    <a href="../scrapy框架/scrapy框架.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        scrapy框架
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="scrapy框架/scrapy基本使用.html">
            
                
                    <a href="../scrapy框架/scrapy基本使用.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        scrapy 基本使用
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="scrapy框架/scrapy高级使用.html">
            
                
                    <a href="../scrapy框架/scrapy高级使用.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        scrapy 高级使用
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="scrapy框架/scrapy项目部署.html">
            
                
                    <a href="../scrapy框架/scrapy项目部署.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        scrapy 项目部署
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="scrapy框架/scrapy redis使用.html">
            
                
                    <a href="../scrapy框架/scrapy redis使用.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        scrapy redis使用
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="附录/附录.html">
            
                
                    <a href="../附录/附录.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        附录
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="附录/HTTP请求列表.html">
            
                
                    <a href="../附录/HTTP请求列表.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        HTTP请求列表
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="附录/HTTP响应列表.html">
            
                
                    <a href="../附录/HTTP响应列表.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        HTTP响应列表
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    本书使用 GitBook 发布
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >爬虫课程</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <html><head></head><body><h1 id="mongodb-&#x6570;&#x636E;&#x5E93;">mongodb &#x6570;&#x636E;&#x5E93;</h1>
<sec data-title="&#x5B66;&#x4E60;&#x76EE;&#x6807;" data-id="section0" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>&#x5B66;&#x4E60;&#x76EE;&#x6807;<a class="pull-right section atTitle btn btn-default" target="section0"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section0"><div class="panel-body">
<ul>
<li><strong>&#x3010;&#x4E86;&#x89E3;&#x3011;</strong> &#x975E;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x548C;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7684;&#x533A;&#x522B;</li>
<li><strong>&#x3010;&#x638C;&#x63E1;&#x3011;</strong> mongodb &#x7684;&#x5B89;&#x88C5;&#x4E0E;&#x4F7F;&#x7528;</li>
<li><strong>&#x3010;&#x638C;&#x63E1;&#x3011;</strong> mongodb &#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;</li>
<li><strong>&#x3010;&#x638C;&#x63E1;&#x3011;</strong> mongodb &#x96C6;&#x5408;&#x64CD;&#x4F5C;</li>
<li><strong>&#x3010;&#x638C;&#x63E1;&#x3011;</strong> mongodb &#x6570;&#x636E;&#x64CD;&#x4F5C;</li>
<li><strong>&#x3010;&#x638C;&#x63E1;&#x3011;</strong> mongodb &#x805A;&#x5408;&#x64CD;&#x4F5C;</li>
<li><strong>&#x3010;&#x638C;&#x63E1;&#x3011;</strong> mongodb &#x7D22;&#x5F15;&#x64CD;&#x4F5C;</li>
<li><strong>&#x3010;&#x638C;&#x63E1;&#x3011;</strong> mongodb &#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;</li>
<li><strong>&#x3010;&#x638C;&#x63E1;&#x3011;</strong> mongodb &#x4E0E;Ptyhon&#x4E4B;&#x95F4;&#x4EA4;&#x4E92;</li>
<li><strong>&#x3010;&#x638C;&#x63E1;&#x3011;</strong> mongodb &#x6743;&#x9650;&#x7BA1;&#x7406;</li>
</ul>
</div></div></div></sec>
<sec data-title="&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x4E0E;&#x975E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;" data-id="section01" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x4E0E;&#x975E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;<a class="pull-right section atTitle btn btn-default" target="section01"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section01"><div class="panel-body">
<h4 id="nosql&#x7684;&#x4ECB;&#x7ECD;">nosql&#x7684;&#x4ECB;&#x7ECD;</h4>
<ul>
<li>&#x201C;NoSQL&#x201D;&#x2F00;&#x8BCD;&#x6700;&#x65E9;&#x4E8E;1998&#x5E74;&#x88AB;&#x2F64;&#x4E8E;&#x2F00;&#x4E2A;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x7684;&#x540D;&#x5B57;</li>
<li>&#x968F;&#x7740;web2.0&#x7684;&#x5FEB;&#x901F;&#x53D1;&#x5C55;&#xFF0C; NoSQL&#x6982;&#x5FF5;&#x5728;2009&#x5E74;&#x88AB;&#x63D0;&#x4E86;&#x51FA;&#x6765;</li>
<li>NoSQL&#x5728;2010&#x5E74;&#x2EDB;&#x2F63;&#x2F54;&#x8D77;&#xFF0C; &#x73B0;&#x5728;&#x56FD;&#x5185;&#x5916;&#x4F17;&#x591A;&#x2F24;&#x2F29;&#x2F79;&#x7AD9;&#xFF0C; &#x5982;facebook&#x3001; google&#x3001; &#x6DD8;&#x5B9D;&#x3001; &#x4EAC;&#x4E1C;&#x3001; &#x767E;&#x5EA6;&#x7B49;&#xFF0C; &#x90FD;&#x5728;&#x4F7F;&#x2F64;nosql&#x5F00;&#x53D1;&#x2FBC;&#x6027;&#x80FD;&#x7684;&#x4EA7;&#x54C1;</li>
<li>&#x5BF9;&#x4E8E;&#x2F00;&#x540D;&#x7A0B;&#x5E8F;&#x5458;&#x6765;&#x8BB2;&#xFF0C; &#x4F7F;&#x2F64;nosql&#x5DF2;&#x7ECF;&#x6210;&#x4E3A;&#x2F00;&#x6761;&#x5FC5;&#x5907;&#x6280;&#x80FD;</li>
<li>NoSQL&#x6700;&#x5E38;&#x2EC5;&#x7684;&#x89E3;&#x91CA;&#x662F;&#x201C;non-relational&#x201D;&#xFF0C; &#x201C;Not Only SQL&#x201D;&#x4E5F;&#x88AB;&#x5F88;&#x591A;&#x2F08;&#x63A5;&#x53D7;&#xFF0C; &#x6307;&#x7684;&#x662F;&#x2FAE;&#x5173;&#x7CFB;&#x578B;&#x7684;&#x6570;&#x636E;&#x5E93;</li>
</ul>
<h4 id="&#x4F18;&#x70B9;&#x4E0E;&#x7F3A;&#x70B9;">&#x4F18;&#x70B9;&#x4E0E;&#x7F3A;&#x70B9;</h4>
<ul>
<li>&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;<ul>
<li>&#x4F18;&#x70B9;<ul>
<li>&#x4E25;&#x8C28;</li>
<li>&#x6210;&#x719F;&#x7A33;&#x5B9A;</li>
</ul>
</li>
<li>&#x7F3A;&#x70B9;<ul>
<li>&#x6269;&#x5C55;&#x6027;&#x5DEE;</li>
<li>&#x6027;&#x80FD;&#x5DEE;</li>
</ul>
</li>
<li>&#x9002;&#x5E94;&#x573A;&#x666F;<ul>
<li>&#x91D1;&#x878D;&#x7CFB;&#x7EDF;</li>
<li>&#x8D22;&#x52A1;&#x7CFB;&#x7EDF;</li>
<li>&#x7B49;</li>
</ul>
</li>
</ul>
</li>
<li>&#x975E;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;<ul>
<li>&#x4F18;&#x70B9;<ul>
<li>&#x6613;&#x6269;&#x5C55;&#xFF1A; NoSQL&#x6570;&#x636E;&#x5E93;&#x79CD;&#x7C7B;&#x7E41;&#x591A;&#xFF0C; &#x4F46;&#x662F;&#x2F00;&#x4E2A;&#x5171;&#x540C;&#x7684;&#x7279;&#x70B9;&#x90FD;&#x662F;&#x53BB;&#x6389;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5173;&#x7CFB;&#x578B;&#x7279;&#x6027;&#x3002; &#x6570;&#x636E;&#x4E4B;&#x95F4;&#x2F46;&#x5173;&#x7CFB;&#xFF0C; &#x8FD9;&#x6837;&#x5C31;&#x2FAE;&#x5E38;&#x5BB9;&#x6613;&#x6269;&#x5C55;</li>
<li>&#x2F24;&#x6570;&#x636E;&#x91CF;&#xFF0C; &#x2FBC;&#x6027;&#x80FD;&#xFF1A; NoSQL&#x6570;&#x636E;&#x5E93;&#x90FD;&#x5177;&#x6709;&#x2FAE;&#x5E38;&#x2FBC;&#x7684;&#x8BFB;&#x5199;&#x6027;&#x80FD;&#xFF0C; &#x5C24;&#x5176;&#x5728;&#x2F24;&#x6570;&#x636E;&#x91CF;&#x4E0B;&#xFF0C; &#x540C;&#x6837;&#x8868;&#x73B0;&#x4F18;&#x79C0;&#x3002; &#x8FD9;&#x5F97;&#x76CA;&#x4E8E;&#x5B83;&#x7684;&#x2F46;&#x5173;&#x7CFB;&#x6027;&#xFF0C; &#x6570;&#x636E;&#x5E93;&#x7684;&#x7ED3;&#x6784;&#x7B80;&#x5355;</li>
<li>&#x7075;&#x6D3B;&#x7684;&#x6570;&#x636E;&#x6A21;&#x578B;&#xFF1A; NoSQL&#x2F46;&#x9700;&#x4E8B;&#x5148;&#x4E3A;&#x8981;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x636E;&#x5EFA;&#x2F74;&#x5B57;&#x6BB5;&#xFF0C; &#x968F;&#x65F6;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x2F83;&#x5B9A;&#x4E49;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x3002; &#x2F7D;&#x5728;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x2FA5;&#xFF0C; &#x589E;&#x5220;&#x5B57;&#x6BB5;&#x662F;&#x2F00;&#x4EF6;&#x2FAE;&#x5E38;&#x9EBB;&#x70E6;&#x7684;&#x4E8B;&#x60C5;&#x3002; &#x5982;&#x679C;&#x662F;&#x2FAE;&#x5E38;&#x2F24;&#x6570;&#x636E;&#x91CF;&#x7684;&#x8868;&#xFF0C; &#x589E;&#x52A0;&#x5B57;&#x6BB5;&#x7B80;&#x76F4;&#x5C31;&#x662F;&#x2F00;&#x4E2A;&#x5669;&#x68A6;</li>
</ul>
</li>
<li>&#x7F3A;&#x70B9;<ul>
<li>&#x6570;&#x636E;&#x968F;&#x610F;</li>
</ul>
</li>
</ul>
</li>
</ul>
</div></div></div></sec>
<sec data-title="mongodb &#x4ECB;&#x7ECD;" data-id="section02" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>mongodb &#x4ECB;&#x7ECD;<a class="pull-right section atTitle btn btn-default" target="section02"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section02"><div class="panel-body">
<h4 id="mongodb-&#x7B80;&#x4ECB;">MongoDB &#x7B80;&#x4ECB;</h4>
<ul>
<li>MongoDB (&#x540D;&#x79F0;&#x6765;&#x81EA;&#x300C;humongous (&#x5DE8;&#x5927;&#x65E0;&#x6BD4;&#x7684;)&#x300D;)&#xFF0C; &#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x6269;&#x5C55;&#x7684;&#x9AD8;&#x6027;&#x80FD;&#xFF0C;&#x5F00;&#x6E90;&#xFF0C;&#x6A21;&#x5F0F;&#x81EA;&#x7531;&#xFF0C;&#x9762;&#x5411;&#x6587;&#x6863;&#x7684;NoSQL&#xFF0C;&#x57FA;&#x4E8E; &#x5206;&#x5E03;&#x5F0F; &#x6587;&#x4EF6;&#x5B58;&#x50A8;&#xFF0C;&#x7531; C++ &#x8BED;&#x8A00;&#x7F16;&#x5199;&#xFF0C;&#x8BBE;&#x8BA1;&#x4E4B;&#x521D;&#x65E8;&#x5728;&#x4E3A; WEB &#x5E94;&#x7528;&#x63D0;&#x4F9B;&#x53EF;&#x6269;&#x5C55;&#x7684;&#x9AD8;&#x6027;&#x80FD;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;</li>
<li>MongoDB&#x4F7F;&#x7528;&#x7684;&#x662F;&#x5185;&#x5B58;&#x6620;&#x5C04;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF0C;&#x5B83;&#x4F1A;&#x628A;&#x78C1;&#x76D8;IO&#x64CD;&#x4F5C;&#x8F6C;&#x6362;&#x6210;&#x5185;&#x5B58;&#x64CD;&#x4F5C;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x8BFB;&#x64CD;&#x4F5C;&#xFF0C;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8D77;&#x5230;&#x7F13;&#x5B58;&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x5185;&#x5B58;&#x8FD8;&#x53EF;&#x4EE5;&#x628A;&#x968F;&#x673A;&#x7684;&#x5199;&#x64CD;&#x4F5C;&#x8F6C;&#x6362;&#x6210;&#x987A;&#x5E8F;&#x7684;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x5927;&#x5E45;&#x5EA6;&#x63D0;&#x5347;&#x6027;&#x80FD;&#x3002;</li>
<li>MongoDB &#x65E2;&#x62E5;&#x6709;Key-Value&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x7684;&#x9AD8;&#x6027;&#x80FD;&#x548C;&#x9AD8;&#x5EA6;&#x4F38;&#x7F29;&#x6027;&#xFF0C;&#x4E5F;&#x62E5;&#x6709;&#x4F20;&#x7EDF;&#x7684;RDBMS&#x7CFB;&#x7EDF;&#x7684;&#x4E30;&#x5BCC;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x96C6;&#x4E24;&#x8005;&#x7684;&#x4F18;&#x52BF;&#x4E8E;&#x4E00;&#x8EAB;&#x3002; &#x4ECB;&#x4E8E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x548C;NoSQL&#x4E4B;&#x95F4;&#xFF0C;&#x4E5F;&#x662F;&#x529F;&#x80FD;&#x6700;&#x4E30;&#x5BCC;&#x3001;&#x6700;&#x50CF;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7684;NoSQL&#x3002;</li>
</ul>
<blockquote>
<p>MongoDB&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;<a href="https://docs.mongodb.com" target="_blank">https://docs.mongodb.com</a></p>
<p>MongoDB&#x4E2D;&#x6587;&#x793E;&#x533A;&#xFF1A;<a href="http://www.mongoing.com" target="_blank">http://www.mongoing.com</a></p>
</blockquote>
<h4 id="mongodb&#x7279;&#x70B9;">MongoDB&#x7279;&#x70B9;</h4>
<ul>
<li>&#x6A21;&#x5F0F;&#x81EA;&#x7531; :&#x53EF;&#x4EE5;&#x628A;&#x4E0D;&#x540C;&#x7ED3;&#x6784;&#x7684;&#x6587;&#x6863;&#x5B58;&#x50A8;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x91CC;</li>
<li>&#x9762;&#x5411;&#x96C6;&#x5408;&#x7684;&#x5B58;&#x50A8;&#xFF1A;&#x9002;&#x5408;&#x5B58;&#x50A8; JSON&#x98CE;&#x683C;&#x6587;&#x4EF6;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;</li>
<li>&#x5B8C;&#x6574;&#x7684;&#x7D22;&#x5F15;&#x652F;&#x6301;&#xFF1A;&#x5BF9;&#x4EFB;&#x4F55;&#x5C5E;&#x6027;&#x53EF;&#x7D22;&#x5F15;&#xFF0C;</li>
<li>&#x590D;&#x5236;&#x548C;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#xFF1A;&#x652F;&#x6301;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x6570;&#x636E;&#x590D;&#x5236;&#xFF0C;&#x652F;&#x6301;&#x4E3B;-&#x4ECE;&#x6A21;&#x5F0F;&#x53CA;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x76F8;&#x4E92;&#x590D;&#x5236;&#x3002;&#x590D;&#x5236;&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x7684;&#x662F;&#x63D0;&#x4F9B;&#x5197;&#x4F59;&#x53CA;&#x81EA;&#x52A8;&#x6545;&#x969C;&#x8F6C;&#x79FB;&#x3002;</li>
<li>&#x81EA;&#x52A8;&#x5206;&#x7247;&#xFF1A;&#x652F;&#x6301;&#x6C34;&#x5E73;&#x7684;&#x6570;&#x636E;&#x5E93;&#x96C6;&#x7FA4;&#xFF0C;&#x53EF;&#x52A8;&#x6001;&#x6DFB;&#x52A0;&#x989D;&#x5916;&#x7684;&#x673A;&#x5668;&#x3002;</li>
<li>&#x4E30;&#x5BCC;&#x7684;&#x67E5;&#x8BE2;&#xFF1A;&#x652F;&#x6301;&#x4E30;&#x5BCC;&#x7684;&#x67E5;&#x8BE2;&#x8868;&#x8FBE;&#x65B9;&#x5F0F;&#xFF0C;&#x67E5;&#x8BE2;&#x6307;&#x4EE4;&#x4F7F;&#x7528;JSON&#x5F62;&#x5F0F;&#x7684;&#x6807;&#x8BB0;&#xFF0C;&#x53EF;&#x8F7B;&#x6613;&#x67E5;&#x8BE2;&#x6587;&#x6863;&#x4E2D;&#x7684;&#x5185;&#x5D4C;&#x7684;&#x5BF9;&#x8C61;&#x53CA;&#x6570;&#x7EC4;&#x3002;</li>
<li>&#x5FEB;&#x901F;&#x5C31;&#x5730;&#x66F4;&#x65B0;&#xFF1A;&#x67E5;&#x8BE2;&#x4F18;&#x5316;&#x5668;&#x4F1A;&#x5206;&#x6790;&#x67E5;&#x8BE2;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5E76;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x9AD8;&#x6548;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x3002;</li>
<li>&#x9AD8;&#x6548;&#x7684;&#x4F20;&#x7EDF;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#xFF1A;&#x652F;&#x6301;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x53CA;&#x5927;&#x578B;&#x5BF9;&#x8C61;&#xFF08;&#x5982;&#x56FE;&#x7247;&#x7B49;...&#xFF09;&#x3002;</li>
</ul>
<h4 id="&#x9002;&#x7528;&#x573A;&#x666F;">&#x9002;&#x7528;&#x573A;&#x666F;</h4>
<ul>
<li><code>&#x7F51;&#x7AD9;&#x6570;&#x636E;&#xFF1A;</code>  &#x9002;&#x5408;&#x5B9E;&#x65F6;&#x7684;&#x63D2;&#x5165;&#xFF0C;&#x66F4;&#x65B0;&#x4E0E;&#x67E5;&#x8BE2;&#xFF0C;&#x5E76;&#x5177;&#x5907;&#x7F51;&#x7AD9;&#x5B9E;&#x65F6;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x6240;&#x9700;&#x7684;&#x590D;&#x5236;&#x53CA;&#x9AD8;&#x5EA6;&#x4F38;&#x7F29;&#x6027;&#x3002;</li>
<li><code>&#x7F13;&#x5B58;</code> &#x7531;&#x4E8E;&#x6027;&#x80FD;&#x5F88;&#x9AD8;&#xFF0C;&#x4E5F;&#x9002;&#x5408;&#x4F5C;&#x4E3A;&#x4FE1;&#x606F;&#x57FA;&#x7840;&#x8BBE;&#x65BD;&#x7684;&#x7F13;&#x5B58;&#x5C42;&#x3002;&#x5728;&#x7CFB;&#x7EDF;&#x91CD;&#x542F;&#x4E4B;&#x540E;&#xFF0C;&#x642D;&#x5EFA;&#x7684;&#x6301;&#x4E45;&#x5316;&#x7F13;&#x5B58;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x4E0B;&#x5C42;&#x7684;&#x6570;&#x636E;&#x6E90;&#x8FC7;&#x8F7D;&#x3002;</li>
<li><code>&#x5927;&#x5C3A;&#x5BF8;&#x3001;&#x4F4E;&#x4EF7;&#x503C;&#x7684;&#x6570;&#x636E;</code> &#x4F7F;&#x7528;&#x4F20;&#x7EDF;&#x7684;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x65F6;&#x53EF;&#x80FD;&#x4F1A;&#x6BD4;&#x8F83;&#x8D35;&#xFF0C;&#x5728;&#x6B64;&#x4E4B;&#x524D;&#xFF0C;&#x5F88;&#x591A;&#x7A0B;&#x5E8F;&#x5458;&#x5F80;&#x5F80;&#x4F1A;&#x9009;&#x62E9;&#x4F20;&#x7EDF;&#x7684;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x5B58;&#x50A8;&#x3002;</li>
<li><code>&#x9AD8;&#x4F38;&#x7F29;&#x6027;&#x7684;&#x573A;&#x666F;</code> &#x975E;&#x5E38;&#x9002;&#x5408;&#x7531;&#x6570;&#x5341;&#x6216;&#x8005;&#x6570;&#x767E;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x7EC4;&#x6210;&#x7684;&#x6570;&#x636E;&#x5E93;&#x3002;</li>
<li><code>&#x7528;&#x4E8E;&#x5BF9;&#x8C61;&#x53CA;JSON&#x6570;&#x636E;&#x7684;&#x5B58;&#x50A8;</code> MongoDB&#x7684;BSON&#x6570;&#x636E;&#x683C;&#x5F0F;&#x975E;&#x5E38;&#x9002;&#x5408;&#x6587;&#x6863;&#x683C;&#x5F0F;&#x5316;&#x7684;&#x5B58;&#x50A8;&#x53CA;&#x67E5;&#x8BE2;&#x3002;</li>
</ul>
<h4 id="&#x4E0D;&#x9002;&#x7528;&#x7684;&#x573A;&#x666F;">&#x4E0D;&#x9002;&#x7528;&#x7684;&#x573A;&#x666F;</h4>
<ul>
<li><code>&#x9AD8;&#x5EA6;&#x4E8B;&#x7269;&#x6027;&#x7684;&#x7CFB;&#x7EDF;</code> &#x4F8B;&#x5982;&#x94F6;&#x884C;&#x6216;&#x4F1A;&#x8BA1;&#x7CFB;&#x7EDF;&#x3002;&#x4F20;&#x7EDF;&#x7684;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x76EE;&#x524D;&#x8FD8;&#x662F;&#x66F4;&#x9002;&#x7528;&#x4E8E;&#x9700;&#x8981;&#x5927;&#x91CF;&#x539F;&#x5B50;&#x6027;&#x590D;&#x6742;&#x4E8B;&#x52A1;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;</li>
<li><code>&#x4F20;&#x7EDF;&#x7684;&#x5546;&#x4E1A;&#x667A;&#x80FD;&#x5E94;&#x7528;</code> &#x9488;&#x5BF9;&#x7279;&#x5B9A;&#x95EE;&#x9898;&#x7684;BI&#x6570;&#x636E;&#x5E93;&#x4F1A;&#x5BF9;&#x4EA7;&#x751F;&#x9AD8;&#x5EA6;&#x4F18;&#x5316;&#x7684;&#x67E5;&#x8BE2;&#x65B9;&#x5F0F;&#x3002;&#x5BF9;&#x4E8E;&#x6B64;&#x7C7B;&#x5E94;&#x7528;&#xFF0C;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x53EF;&#x80FD;&#x662F;&#x66F4;&#x5408;&#x9002;&#x7684;&#x9009;&#x62E9;&#x3002;</li>
<li><code>&#x9700;&#x8981;&#x4F7F;&#x7528;SQL&#x8BED;&#x53E5;&#x89E3;&#x51B3;&#x7684;&#x573A;&#x666F;</code> MongoDB&#x4E0D;&#x652F;&#x6301;SQL&#x8BED;&#x53E5;&#x3002;</li>
</ul>
<h4 id="&#x5546;&#x4E1A;&#x5E94;&#x7528;">&#x5546;&#x4E1A;&#x5E94;&#x7528;</h4>
<ul>
<li><code>&#x4EAC;&#x4E1C;</code> &#x4F7F;&#x7528;MongoDB&#x5B58;&#x50A8;&#x5546;&#x54C1;&#x4FE1;&#x606F;,&#x652F;&#x6301;&#x6BD4;&#x4EF7;&#x548C;&#x5173;&#x6CE8;&#x529F;&#x80FD;.</li>
<li><code>&#x767E;&#x5EA6;&#x4E91;</code> &#x4F7F;&#x7528;MongoDB&#x7BA1;&#x7406;&#x767E;&#x5EA6;&#x4E91;&#x76D8;&#x4E2D;500&#x4EBF;&#x6761;&#x5173;&#x4E8E;&#x6587;&#x4EF6;&#x6E90;&#x4FE1;&#x606F;&#x7684;&#x8BB0;&#x5F55;.</li>
<li><code>CERN</code> &#x8457;&#x540D;&#x7684;&#x7C92;&#x5B50;&#x7269;&#x7406;&#x7814;&#x7A76;&#x6240;&#xFF0C;&#x6B27;&#x6D32;&#x6838;&#x5B50;&#x7814;&#x7A76;&#x4E2D;&#x5FC3;&#x5927;&#x578B;&#x5F3A;&#x5B50;&#x5BF9;&#x649E;&#x673A;&#x7684;&#x6570;&#x636E;&#x4F7F;&#x7528;MongoDB&#x5B58;&#x50A8;&#x3002;</li>
<li><code>The New York Times</code> &#x4E16;&#x754C;&#x9886;&#x5148;&#x7684;&#x5728;&#x7EBF;&#x65B0;&#x95FB;&#x95E8;&#x6237;&#x7F51;&#x7AD9;&#x4E4B;&#x4E00;&#xFF0C;&#x4F7F;&#x7528;MongoDB&#x4F5C;&#x4E3A;&#x5185;&#x5BB9;&#x5B58;&#x50A8;&#x3002;</li>
<li><code>sourceforge.net</code> &#x8D44;&#x6E90;&#x7F51;&#x7AD9;&#x67E5;&#x627E;&#xFF0C;&#x521B;&#x5EFA;&#x548C;&#x53D1;&#x5E03;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x514D;&#x8D39;&#xFF0C;&#x4F7F;&#x7528;MongoDB&#x505A;&#x540E;&#x7AEF;&#x5B58;&#x50A8;&#x3002;</li>
</ul>
</div></div></div></sec>
<sec data-title="mongodb &#x5B89;&#x88C5;" data-id="section03" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>mongodb &#x5B89;&#x88C5;<a class="pull-right section atTitle btn btn-default" target="section03"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section03"><div class="panel-body">
<h4 id="mac">Mac</h4>
<pre><code class="lang-bash">brew <span class="token function">install</span> mongodb
</code></pre>
<h4 id="ubuntu">Ubuntu</h4>
<pre><code class="lang-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> mongodb
</code></pre>
<blockquote>
<p><strong> &#x6CE8;&#x610F;&#xFF1A;</strong> &#x5982;&#x679C;&#x662F;&#x65B0;&#x7CFB;&#x7EDF;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x8FD9;&#x79CD;&#x5B89;&#x88C5;&#x65B9;&#x5F0F;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x4F7F;&#x7528;&#x7684;linux&#x7684; ubuntu &#x662F;&#x5B66;&#x6821;&#x63D0;&#x4F9B;&#xFF0C;&#x60A8;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x8981;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x4E86;&#x3002;</p>
</blockquote>
<h4 id="centos">centos</h4>
<pre><code class="lang-bash">yum -y <span class="token function">install</span> mongodb mongodb-devel mongodb-server
</code></pre>
</div></div></div></sec>
<sec data-title="mongodb &#x542F;&#x52A8;&#x4E0E;&#x5173;&#x95ED;" data-id="section04" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>mongodb &#x542F;&#x52A8;&#x4E0E;&#x5173;&#x95ED;<a class="pull-right section atTitle btn btn-default" target="section04"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section04"><div class="panel-body">
<h4 id="&#x76F4;&#x63A5;&#x542F;&#x52A8;&#x4E0E;&#x5173;&#x95ED;">&#x76F4;&#x63A5;&#x542F;&#x52A8;&#x4E0E;&#x5173;&#x95ED;</h4>
<h5 id="&#x76F4;&#x63A5;&#x542F;&#x52A8;">&#x76F4;&#x63A5;&#x542F;&#x52A8;</h5>
<pre><code class="lang-bash"><span class="token function">sudo</span> mongod
</code></pre>
<blockquote>
<p>&#x6CE8;&#x610F;&#x4E8B;&#x9879;:</p>
</blockquote>
<ol>
<li><code>Data directory /data/db not found.</code> &#x95EE;&#x9898;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x76EE;&#x5F55;&#x6CA1;&#x6709;<pre><code class="lang-python">sudo mkdir <span class="token operator">/</span>data
sudo mkdir <span class="token operator">/</span>data<span class="token operator">/</span>db
</code></pre>
</li>
<li>&#x53EF;&#x80FD;&#x6743;&#x9650;&#x4E0D;&#x591F;&#x542F;&#x52A8;&#x4E0D;&#x4E86;<pre><code class="lang-python">sudo mongod
</code></pre>
</li>
<li>&#x786C;&#x76D8;&#x7A7A;&#x95F4;&#x4E0D;&#x8DB3;&#x9020;&#x6210;&#x542F;&#x52A8;&#x4E0D;&#x4E86;<pre><code class="lang-python">sudo mongod <span class="token operator">-</span><span class="token operator">-</span>smallfiles
</code></pre>
</li>
</ol>
<h5 id="&#x76F4;&#x63A5;&#x5173;&#x95ED;">&#x76F4;&#x63A5;&#x5173;&#x95ED;</h5>
<ol>
<li>&#x901A;&#x8FC7;&#x7EC8;&#x7AEF;&#x5173;&#x95ED;<pre><code class="lang-bash">ctrl + c
</code></pre>
</li>
<li>&#x901A;&#x8FC7; <code>kill -9 &#x8FDB;&#x7A0B;&#x53F7;</code> &#x5173;&#x95ED;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x3002;&#x7279;&#x522B;&#x662F;&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x7981;&#x6B62;&#x4F7F;&#x7528;</li>
<li>&#x767B;&#x5F55;&#x5230;mongodb&#x4E2D;&#x4F7F;&#x7528; mongodb &#x547D;&#x4EE4;&#x53BB;&#x5173;&#x95ED;&#x6570;&#x636E;&#x5E93;<pre><code class="lang-python">use admin
db<span class="token punctuation">.</span>shutdownServer<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</li>
</ol>
<h4 id="&#x540E;&#x53F0;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0E;&#x5173;&#x95ED;">&#x540E;&#x53F0;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0E;&#x5173;&#x95ED;</h4>
<blockquote>
<p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong>&#x5FC5;&#x987B;&#x662F; sudo apt-get install mongodb &#x5B89;&#x88C5;&#x7684;&#x65B9;&#x5F0F;</p>
<h5 id="&#x542F;&#x52A8;">&#x542F;&#x52A8;</h5>
<pre><code class="lang-bash"><span class="token function">sudo</span> <span class="token function">service</span> mongodb start
</code></pre>
<h5 id="&#x5173;&#x95ED;">&#x5173;&#x95ED;</h5>
<pre><code class="lang-bash"><span class="token function">sudo</span> <span class="token function">service</span> mongodb stop
</code></pre>
</blockquote>
<h4 id="&#x542F;&#x52A8;&#x53C2;&#x6570;">&#x542F;&#x52A8;&#x53C2;&#x6570;</h4>
<ul>
<li><code>--dbpath</code> &#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x5E93;&#x8DEF;&#x5F84;&#xFF0C;&#x9ED8;&#x8BA4;<code>/data/db</code></li>
<li><code>--port</code> &#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x5E93;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x9ED8;&#x8BA4;<code>27017</code></li>
<li><code>--bind_ip</code> &#x8BBE;&#x7F6E;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x5141;&#x8BB8;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x9ED8;&#x8BA4; <code>127.0.0.1</code>&#xFF0C;&#x8BBE;&#x7F6E;<code>0.0.0.0</code>&#x5141;&#x8BB8;&#x6240;&#x6709;&#x7684;IP&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x3002;<strong>&#x6CE8;&#x610F;&#xFF1A;</strong>&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x7EDD;&#x5BF9;&#x4E0D;&#x5141;&#x8BB8; &#x8BBE;&#x7F6E;<code>0.0.0.0</code></li>
<li><code>--auth</code> &#x5F00;&#x542F;&#x9A8C;&#x8BC1;&#x6A21;&#x5F0F;</li>
<li><code>--config</code> &#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x914D;&#x7F6E;&#x8FDB;&#x884C;&#x542F;&#x52A8; mongodb</li>
</ul>
</div></div></div></sec>
<sec data-title="mongodb &#x5BA2;&#x6237;&#x7AEF;&#x767B;&#x5F55;" data-id="section05" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>mongodb &#x5BA2;&#x6237;&#x7AEF;&#x767B;&#x5F55;<a class="pull-right section atTitle btn btn-default" target="section05"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section05"><div class="panel-body">
<h4 id="&#x5DE5;&#x5177;&#x5217;&#x8868;">&#x5DE5;&#x5177;&#x5217;&#x8868;</h4>
<ul>
<li>&#x81EA;&#x5E26;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177; <code>mongo</code></li>
<li>&#x53EF;&#x89C6;&#x5316;&#x5DE5;&#x5177; <code>Robomongo</code></li>
<li>...</li>
</ul>
<h4 id="&#x81EA;&#x5E26;&#x547D;&#x4EE4;&#x884C;&#x5BA2;&#x6237;&#x7AEF;&#x4F7F;&#x7528;">&#x81EA;&#x5E26;&#x547D;&#x4EE4;&#x884C;&#x5BA2;&#x6237;&#x7AEF;&#x4F7F;&#x7528;</h4>
<blockquote>
<p>&#x767B;&#x5F55; mongodb &#x5BA2;&#x6237;&#x7AEF;&#x8FDB;&#x884C;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;&#x64CD;&#x4F5C;</p>
</blockquote>
<pre><code class="lang-bash">mongo <span class="token punctuation">[</span>--host IP&#x5730;&#x5740;<span class="token punctuation">]</span> <span class="token punctuation">[</span>--port &#x7AEF;&#x53E3;<span class="token punctuation">]</span>
</code></pre>
</div></div></div></sec>
<sec data-title="mongodb &#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;" data-id="section06" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>mongodb &#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;<a class="pull-right section atTitle btn btn-default" target="section06"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section06"><div class="panel-body">
<h4 id="&#x524D;&#x63D0;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x5BA2;&#x6237;&#x7AEF;&#x767B;&#x5F55;">&#x524D;&#x63D0;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x5BA2;&#x6237;&#x7AEF;&#x767B;&#x5F55;</h4>
<pre><code class="lang-bash">mongo
</code></pre>
<h4 id="&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x5217;&#x8868;">&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x5217;&#x8868;</h4>
<pre><code class="lang-js">show databases<span class="token operator">/</span>dbs
</code></pre>
<h4 id="&#x8FDB;&#x5165;&#x6570;&#x636E;&#x5E93;">&#x8FDB;&#x5165;&#x6570;&#x636E;&#x5E93;</h4>
<pre><code class="lang-js">use &#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;
</code></pre>
<h4 id="&#x67E5;&#x770B;&#x5F53;&#x524D;&#x7684;&#x6240;&#x5728;&#x7684;&#x6570;&#x636E;&#x5E93;">&#x67E5;&#x770B;&#x5F53;&#x524D;&#x7684;&#x6240;&#x5728;&#x7684;&#x6570;&#x636E;&#x5E93;</h4>
<pre><code class="lang-js">db
</code></pre>
<h4 id="&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;">&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;</h4>
<p>&#x63D2;&#x5165;&#x6570;&#x636E;&#x5373;&#x523B;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;</p>
<h4 id="&#x5220;&#x9664;&#x6570;&#x636E;&#x5E93;">&#x5220;&#x9664;&#x6570;&#x636E;&#x5E93;</h4>
<pre><code class="lang-js">use &#x6570;&#x636E;&#x5E93;
db<span class="token punctuation">.</span><span class="token function">dropDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</div></div></div></sec>
<sec data-title="mongodb &#x6570;&#x636E;&#x96C6;&#x5408; collections&#xFF08;&#x8868;&#xFF09;&#x7684;&#x64CD;&#x4F5C;" data-id="section07" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>mongodb &#x6570;&#x636E;&#x96C6;&#x5408; collections&#xFF08;&#x8868;&#xFF09;&#x7684;&#x64CD;&#x4F5C;<a class="pull-right section atTitle btn btn-default" target="section07"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section07"><div class="panel-body">
<h4 id="&#x524D;&#x63D0;&#x6761;&#x4EF6;">&#x524D;&#x63D0;&#x6761;&#x4EF6;</h4>
<blockquote>
<p>&#x8FDB;&#x5165;&#x6570;&#x636E;&#x5E93;</p>
<pre><code class="lang-js">use &#x6570;&#x636E;&#x5E93;
</code></pre>
</blockquote>
<h4 id="&#x5217;&#x51FA;&#x6570;&#x636E;&#x5E93;&#x96C6;&#x5408;&#x7684;&#x5217;&#x8868;">&#x5217;&#x51FA;&#x6570;&#x636E;&#x5E93;&#x96C6;&#x5408;&#x7684;&#x5217;&#x8868;</h4>
<pre><code class="lang-js">show collections
</code></pre>
<h4 id="&#x521B;&#x5EFA;&#x96C6;&#x5408;">&#x521B;&#x5EFA;&#x96C6;&#x5408;</h4>
<pre><code class="lang-js"><span class="token comment">// 2&#x4E2D;&#x65B9;&#x5F0F;</span>
db<span class="token punctuation">.</span><span class="token function">createCollection</span><span class="token punctuation">(</span><span class="token string">&apos;&#x6570;&#x636E;&#x96C6;&#x5408;&#x540D;&apos;</span><span class="token punctuation">)</span>
<span class="token comment">// &#x6216;</span>
<span class="token comment">// &#x63D2;&#x5165;&#x6570;&#x636E;&#x5373;&#x53EF;&#x521B;&#x5EFA;&#x96C6;&#x5408;</span>
</code></pre>
<h4 id="&#x66F4;&#x65B0;&#x96C6;&#x5408;&#x540D;&#x79F0;">&#x66F4;&#x65B0;&#x96C6;&#x5408;&#x540D;&#x79F0;</h4>
<pre><code class="lang-js">db<span class="token punctuation">.</span>&#x96C6;&#x5408;&#x540D;<span class="token punctuation">.</span><span class="token function">renameCollection</span><span class="token punctuation">(</span><span class="token string">&quot;&#x65B0;&#x7684;&#x96C6;&#x5408;&#x540D;&#x79F0;&quot;</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="&#x5220;&#x9664;&#x96C6;&#x5408;">&#x5220;&#x9664;&#x96C6;&#x5408;</h4>
<pre><code class="lang-js">db<span class="token punctuation">.</span>&#x96C6;&#x5408;&#x540D;<span class="token punctuation">.</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</div></div></div></sec>
<sec data-title="mongodb &#x6570;&#x636E;&#x64CD;&#x4F5C;&#x4E4B;&#x521B;&#x5EFA;&#x3001;&#x66F4;&#x65B0;&#x3001;&#x4FDD;&#x5B58;&#x3001;&#x5220;&#x9664;" data-id="section08" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>mongodb &#x6570;&#x636E;&#x64CD;&#x4F5C;&#x4E4B;&#x521B;&#x5EFA;&#x3001;&#x66F4;&#x65B0;&#x3001;&#x4FDD;&#x5B58;&#x3001;&#x5220;&#x9664;<a class="pull-right section atTitle btn btn-default" target="section08"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section08"><div class="panel-body">
<h4 id="&#x524D;&#x63D0;&#x5FC5;&#x987B;&#x8FDB;&#x5165;&#x6570;&#x636E;&#x5E93;">&#x524D;&#x63D0;,&#x5FC5;&#x987B;&#x8FDB;&#x5165;&#x6570;&#x636E;&#x5E93;</h4>
<pre><code class="lang-js">use &#x6570;&#x636E;&#x5E93;
</code></pre>
<h4 id="&#x521B;&#x5EFA;&#x6570;&#x636E;">&#x521B;&#x5EFA;&#x6570;&#x636E;</h4>
<pre><code class="lang-js"><span class="token comment">// &#x5355;&#x6570;&#x636E;&#x63D2;&#x5165;</span>
db<span class="token punctuation">.</span>newcoll<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token string">&quot;b&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;parents&quot;</span><span class="token punctuation">:</span><span class="token punctuation">{</span>
      <span class="token string">&quot;monther&quot;</span><span class="token punctuation">:</span><span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;mama&quot;</span><span class="token punctuation">,</span>
        age<span class="token punctuation">:</span><span class="token number">15</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&quot;father&quot;</span><span class="token punctuation">:</span><span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;baba&quot;</span><span class="token punctuation">,</span>
        age<span class="token punctuation">:</span><span class="token number">16</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token comment">// &#x591A;&#x6761;&#x6570;&#x636E;&#x63D2;&#x5165;</span>
data <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string">&quot;a&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;x&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string">&quot;b&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;y&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string">&quot;c&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
db<span class="token punctuation">.</span>newcoll<span class="token punctuation">.</span><span class="token function">insertMany</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</code></pre>
<h4 id="&#x66F4;&#x65B0;&#x6570;&#x636E;">&#x66F4;&#x65B0;&#x6570;&#x636E;</h4>
<blockquote>
<p>&#x9ED8;&#x8BA4;&#x66F4;&#x65B0;&#x662F;&#x6574;&#x4F53;&#x66F4;&#x65B0;&#xFF0C;&#x5C40;&#x90E8;&#x66F4;&#x65B0;&#x4F7F;&#x7528; <code>$set</code>&#xFF0C;&#x9ED8;&#x8BA4;&#x66F4;&#x65B0;&#x662F;&#x4E00;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x6279;&#x91CF;&#x66F4;&#x65B0;&#x6DFB;&#x52A0;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x66F4;&#x65B0;&#x65B9;&#x5F0F;&#x4F7F;&#x7528; <code>multi:true</code></p>
<pre><code class="lang-js"><span class="token comment">// &#x6574;&#x4F53;&#x66F4;&#x65B0;</span>
db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>
  <span class="token comment">// &#x66F4;&#x65B0;&#x6761;&#x4EF6;</span>
  <span class="token punctuation">{</span>
    hometown<span class="token punctuation">:</span><span class="token string">&quot;&#x8499;&#x53E4;&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// &#x66F4;&#x65B0;&#x5185;&#x5BB9;</span>
  <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token string">&quot;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token comment">// &#x5C40;&#x90E8;&#x66F4;&#x65B0;</span>
db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>
  <span class="token comment">// &#x66F4;&#x65B0;&#x6761;&#x4EF6;</span>
  <span class="token punctuation">{</span>
    hometown<span class="token punctuation">:</span><span class="token string">&quot;&#x6843;&#x82B1;&#x5C9B;&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// &#x66F4;&#x65B0;&#x5185;&#x5BB9;</span>
  <span class="token punctuation">{</span>
    $<span class="token keyword">set</span><span class="token punctuation">:</span><span class="token punctuation">{</span>
      name<span class="token punctuation">:</span><span class="token string">&quot;python&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token comment">// &#x6279;&#x91CF;&#x66F4;&#x65B0;</span>
db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>
  <span class="token comment">// &#x66F4;&#x65B0;&#x6761;&#x4EF6;</span>
  <span class="token punctuation">{</span>
    hometown<span class="token punctuation">:</span><span class="token string">&quot;&#x5927;&#x7406;&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// &#x66F4;&#x65B0;&#x5185;&#x5BB9;</span>
  <span class="token punctuation">{</span>
    $<span class="token keyword">set</span><span class="token punctuation">:</span><span class="token punctuation">{</span>
      name<span class="token punctuation">:</span><span class="token string">&quot;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// &#x8BBE;&#x7F6E;&#x66F4;&#x65B0;&#x65B9;&#x5F0F;</span>
  <span class="token punctuation">{</span>
    multi<span class="token punctuation">:</span><span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h4 id="&#x5220;&#x9664;&#x6570;&#x636E;">&#x5220;&#x9664;&#x6570;&#x636E;</h4>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>
  <span class="token comment">// &#x5220;&#x9664;&#x6761;&#x4EF6;</span>
  <span class="token punctuation">{</span>
    <span class="token string">&quot;hometown&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;&#x5927;&#x7406;&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// &#x5220;&#x9664;&#x6570;&#x636E;&#x65B9;&#x5F0F;</span>
  <span class="token punctuation">{</span>
    justOne<span class="token punctuation">:</span><span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// &#x6E05;&#x7A7A;&#x6570;&#x636E;</span>
db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="&#x4FDD;&#x5B58;&#x6570;&#x636E;">&#x4FDD;&#x5B58;&#x6570;&#x636E;</h4>
<blockquote>
<p>&#x6839;&#x636E;<code>_id</code> &#x67E5;&#x8BE2;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x67E5;&#x5230;&#x5C31;&#x6267;&#x884C;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x67E5;&#x5230;&#x5C31;&#x6267;&#x884C;&#x63D2;&#x5165;&#x64CD;&#x4F5C;</p>
<pre><code class="lang-js">db<span class="token punctuation">.</span>newcoll<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token string">&quot;_id&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;coll1&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;data2&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre>
</blockquote>
</div></div></div></sec>
<sec data-title="mongodb &#x67E5;&#x8BE2;" data-id="section09" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>mongodb &#x67E5;&#x8BE2;<a class="pull-right section atTitle btn btn-default" target="section09"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section09"><div class="panel-body">
<h4 id="&#x67E5;&#x8BE2;&#x6570;&#x636E;">&#x67E5;&#x8BE2;&#x6570;&#x636E;</h4>
<h5 id="&#x57FA;&#x672C;&#x67E5;&#x8BE2;">&#x57FA;&#x672C;&#x67E5;&#x8BE2;</h5>
<blockquote>
<p>&#x6240;&#x6709;&#x6570;&#x636E;</p>
<pre><code class="lang-js">db<span class="token punctuation">.</span>&#x96C6;&#x5408;&#x540D;<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pretty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h5 id="&#x9ED8;&#x8BA4;&#x6761;&#x4EF6;&#x662F;&#x5E76;&#x5173;&#x7CFB;">&#x9ED8;&#x8BA4;&#x6761;&#x4EF6;&#x662F;<code>&#x5E76;</code>&#x5173;&#x7CFB;</h5>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
  <span class="token comment">// &#x67E5;&#x8BE2;&#x6761;&#x4EF6;</span>
  <span class="token punctuation">{</span>
    <span class="token string">&quot;hometown&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;&#x8499;&#x53E4;&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span><span class="token number">20</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre>
<h5 id="&#x6BD4;&#x8F83;&#x8FD0;&#x7B97;&#x7B26;">&#x6BD4;&#x8F83;&#x8FD0;&#x7B97;&#x7B26;</h5>
<blockquote>
<p><code>$gt</code>&#xFF0C;<code>$gte</code>&#xFF0C;<code>$lt</code>&#xFF0C;<code>$lte</code>&#xFF0C;<code>$ne</code></p>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    age<span class="token punctuation">:</span><span class="token punctuation">{</span>$gt<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h5 id="&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;">&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;</h5>
<blockquote>
<p><code>$or</code></p>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    $or<span class="token punctuation">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>hometown<span class="token punctuation">:</span><span class="token string">&quot;&#x8499;&#x53E4;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>gender<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span><span class="token punctuation">{</span>$gt<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h5 id="&#x8303;&#x56F4;&#x8FD0;&#x7B97;&#x7B26;">&#x8303;&#x56F4;&#x8FD0;&#x7B97;&#x7B26;</h5>
<blockquote>
<p><code>$in</code>,<code>$nin</code></p>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    hometown<span class="token punctuation">:</span><span class="token punctuation">{</span>$nin<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">&apos;&#x8499;&#x53E4;&apos;</span><span class="token punctuation">,</span><span class="token string">&apos;&#x6843;&#x82B1;&#x5C9B;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h5 id="&#x652F;&#x6301;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;">&#x652F;&#x6301;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</h5>
<pre><code class="lang-js"><span class="token comment">// &#x65B9;&#x5F0F;&#x4E00;</span>
db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// &#x5728;js&#x4E2D;&#x4F7F;&#x7528;&#x6B63;&#x5219;, /&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;/</span>
    name<span class="token punctuation">:</span><span class="token regex">/^&#x9EC4;/</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token comment">// &#x65B9;&#x5F0F;&#x4E8C;</span>
db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token punctuation">{</span>$regex<span class="token punctuation">:</span><span class="token string">&quot;^&#x9EC4;&quot;</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre>
<h5 id="&#x81EA;&#x5B9A;&#x4E49;&#x67E5;&#x8BE2;">&#x81EA;&#x5B9A;&#x4E49;&#x67E5;&#x8BE2;</h5>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    $where<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// true &#x8868;&#x793A; &#x7B26;&#x5408;&#x6761;&#x4EF6;&#xFF0C;false &#x8868;&#x793A;&#x4E0D;&#x7B26;&#x5408;&#x6761;&#x4EF6;</span>
      <span class="token comment">// 1. &#x8FD4;&#x56DE;&#x503C; &#x5FC5;&#x987B;&#x662F; true &#x6216;&#x8005; false</span>
      <span class="token comment">// 2. &#x5728;&#x51FD;&#x6570;&#x4E2D;&#x7684;&#x5173;&#x952E; this &#x8868;&#x793A;&#x5F53;&#x524D;&#x8BB0;&#x5F55;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hometown <span class="token operator">==</span> <span class="token string">&quot;&#x8499;&#x53E4;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">&gt;</span> <span class="token number">20</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">&lt;</span> <span class="token number">45</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre>
<h5 id="limit-&#x548C;-skip">limit &#x548C; skip</h5>
<blockquote>
<p><code>limit</code> &#x663E;&#x793A;&#x8BB0;&#x5F55;&#x6570;</p>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre>
<p><code>skip</code> &#x8DF3;&#x8FC7;&#x8BB0;&#x5F55;</p>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre>
<p>2&#x8005;&#x6DF7;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x7BA1;&#x5148;&#x540E;&#x5148; <code>skip</code> &#x518D; <code>limit</code></p>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h5 id="&#x6295;&#x5F71;">&#x6295;&#x5F71;</h5>
<blockquote>
<p>&#x8BBE;&#x7F6E;&#x9700;&#x8981;&#x663E;&#x793A;&#x5B57;&#x6BB5;&#xFF0C;&#x4E00;&#x65E6;&#x8BBE;&#x7F6E;&#x6295;&#x5F71;&#x9ED8;&#x8BA4;&#x5B57;&#x6BB5;&#x90FD;&#x4E0D;&#x663E;&#x793A;&#xFF0C;&#x9700;&#x8981;&#x624B;&#x52A8;&#x8BBE;&#x7F6E;&#x5B57;&#x6BB5;&#x4E3A; <code>1</code>,&#x5982;&#x679C;&#x662F;<code>_id</code>&#x9ED8;&#x8BA4;&#x662F;&#x663E;&#x793A;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x663E;&#x793A;&#x53EF;&#x4EE5;&#x628A; <code>_id</code> &#x8BBE;&#x7F6E;&#x6210; 0</p>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
  <span class="token comment">// &#x8BBE;&#x7F6E;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;</span>
  <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// &#x8BBE;&#x7F6E;&#x6295;&#x5F71;&#x6761;&#x4EF6;</span>
  <span class="token punctuation">{</span>
    _id<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    hometown<span class="token punctuation">:</span><span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h5 id="&#x6392;&#x5E8F;">&#x6392;&#x5E8F;</h5>
<blockquote>
<p><code>1</code>&#x5347;&#x5E8F;&#xFF0C;<code>-1</code>&#x964D;&#x5E8F;</p>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>
  <span class="token comment">// &#x8BBE;&#x7F6E;&#x6392;&#x5E8F;&#x6761;&#x4EF6;</span>
  <span class="token punctuation">{</span>
    age<span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h5 id="&#x7EDF;&#x8BA1;&#x4E2A;&#x6570;">&#x7EDF;&#x8BA1;&#x4E2A;&#x6570;</h5>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h5 id="&#x6D88;&#x9664;&#x91CD;&#x590D;">&#x6D88;&#x9664;&#x91CD;&#x590D;</h5>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span>
  <span class="token comment">// &#x53BB;&#x91CD;&#x5B57;&#x6BB5;</span>
  <span class="token string">&apos;hometown&apos;</span><span class="token punctuation">,</span>
  <span class="token comment">// &#x67E5;&#x8BE2;&#x6761;&#x4EF6;</span>
  <span class="token punctuation">{</span>age<span class="token punctuation">:</span><span class="token punctuation">{</span>$gt<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre>
</div></div></div></sec>
<sec data-title="mongodb &#x805A;&#x5408; aggregate" data-id="section10" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>mongodb &#x805A;&#x5408; aggregate<a class="pull-right section atTitle btn btn-default" target="section10"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section10"><div class="panel-body">
<blockquote>
<p><code>&#x805A;&#x5408;</code>&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x7EDF;&#x8BA1;&#x6570;&#x636E;</p>
<p><code>find</code>&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x6570;&#x636E;</p>
</blockquote>
<h4 id="&#x805A;&#x5408;&#x683C;&#x5F0F;&#x5199;&#x6CD5;">&#x805A;&#x5408;&#x683C;&#x5F0F;&#x5199;&#x6CD5;</h4>
<pre><code class="lang-js">db<span class="token punctuation">.</span>&#x96C6;&#x5408;&#x540D;&#x79F0;<span class="token punctuation">.</span><span class="token function">aggregate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
   <span class="token punctuation">{</span>&#x7BA1;&#x9053;&#x540D; <span class="token punctuation">:</span> <span class="token punctuation">{</span>&#x8868;&#x8FBE;&#x5F0F;<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span>&#x7BA1;&#x9053;&#x540D; <span class="token punctuation">:</span> <span class="token punctuation">{</span>&#x8868;&#x8FBE;&#x5F0F;<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span>&#x7BA1;&#x9053;&#x540D; <span class="token punctuation">:</span> <span class="token punctuation">{</span>&#x8868;&#x8FBE;&#x5F0F;<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token operator">...</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="&#x7BA1;&#x9053;&#x540D;">&#x7BA1;&#x9053;&#x540D;</h4>
<ul>
<li><code>$group</code> &#x6309;&#x7167;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x5206;&#x7EC4;&#xFF0C;&#x4F9D;&#x6B21;&#x5BF9;&#x6BCF;&#x4E2A;&#x7EC4;&#x8FDB;&#x884C;&#x7EDF;&#x8BA1;&#x8BA1;&#x7B97;&#x3002;</li>
<li><code>$match</code> &#x5339;&#x914D;&#x51FA;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x548C;<code>find</code>&#x64CD;&#x4F5C;&#x4E00;&#x81F4;</li>
<li><code>$project</code> &#x548C;&#x6295;&#x5F71;&#x4F5C;&#x7528;&#x4E00;&#x6837;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x67D0;&#x4E9B;&#x5B57;&#x6BB5;&#x4E0D;&#x663E;&#x793A;</li>
<li><code>$sort</code></li>
<li><code>$limit</code></li>
<li><code>$skip</code></li>
<li><code>$unwind</code> &#x628A;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x62C6;&#x5206;&#x6210;&#x591A;&#x6761;&#x6570;&#x636E;</li>
</ul>
<h4 id="&#x8868;&#x8FBE;&#x5F0F;">&#x8868;&#x8FBE;&#x5F0F;</h4>
<ul>
<li><code>$sum</code> &#x7EDF;&#x8BA1;&#x4E2A;&#x6570;&#xFF0C;&#x6309;&#x7167;&#x6570;&#x5B57;&#x8FDB;&#x884C;&#x7D2F;&#x52A0;</li>
<li><code>$avg</code> &#x8868;&#x793A;&#x5E73;&#x5747;&#x503C;</li>
<li><code>$max</code> &#x8BA1;&#x7B97;&#x6700;&#x5927;&#x7684;&#x503C;</li>
<li><code>$min</code> &#x8BA1;&#x7B97;&#x6700;&#x5C0F;&#x503C;</li>
<li><code>$push</code> &#x628A;&#x5206;&#x7EC4;&#x540E;&#x7684;&#x5185;&#x5BB9;&#x653E;&#x5165;&#x5230;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x5173;&#x952E;&#x8BCD;<code>$$ROOT</code>&#x6574;&#x6761;&#x6570;&#x636E;</li>
<li>...</li>
</ul>
<h4 id="group-&#x7BA1;&#x9053;">group &#x7BA1;&#x9053;</h4>
<blockquote>
<p>&#x6309;&#x7167;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x5206;&#x7EC4;&#xFF0C;&#x4F9D;&#x6B21;&#x5BF9;&#x6BCF;&#x4E2A;&#x7EC4;&#x8FDB;&#x884C;&#x7EDF;&#x8BA1;&#x8BA1;&#x7B97;&#x3002;
<code>_id</code>&#x8868;&#x793A;&#x6309;&#x7167;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x5206;&#x7EC4;&#xFF0C;&#x4F46;&#x662F;&#x5185;&#x90E8;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#x79F0;&#x524D;&#x9762;&#x5FC5;&#x987B;&#x6DFB;&#x52A0;<code>$</code>&#x5B57;&#x7B26;&#xFF0C;&#x5982;&#x679C;<code>_id</code>&#x8BBE;&#x7F6E;&#x4E3A; <code>null</code> &#xE5;&#x8868;&#x793A;&#x628A;&#x6240;&#x6709;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x4E00;&#x7EC4;&#x770B;&#x5F85;&#x3002;</p>
</blockquote>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">aggregate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    $group<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">//  &#x8BBE;&#x7F6E;&#x5206;&#x7EC4;&#x5B57;&#x6BB5;</span>
      <span class="token comment">// _id:&quot;$gender&quot;,</span>
      _id<span class="token punctuation">:</span><span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token comment">// &#x7F16;&#x5199;&#x7EDF;&#x8BA1;&#x8868;&#x8FBE;&#x5F0F;</span>
      <span class="token comment">// $sum &#x7EDF;&#x8BA1;&#x603B;&#x6570;&#x8868;&#x8FBE;&#x5F0F;</span>
      <span class="token comment">// &quot;&#x6765;&#x81EA;&#x5BB6;&#x4E61;&#x603B;&#x6570;&quot;:{$sum:3},</span>
      <span class="token comment">// $avg &#x8868;&#x793A;&#x5E73;&#x5747;&#x503C;</span>
      <span class="token string">&quot;&#x5E73;&#x5747;&#x5E74;&#x9F84;&quot;</span><span class="token punctuation">:</span><span class="token punctuation">{</span>$avg<span class="token punctuation">:</span><span class="token string">&quot;$age&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// &quot;&#x6700;&#x5927;&#x5E74;&#x9F84;&quot;:{$max:&quot;$age&quot;},</span>
      <span class="token comment">// &quot;&#x6700;&#x5C0F;&#x5E74;&#x9F84;&quot;:{$min:&quot;$age&quot;}</span>
      <span class="token comment">// &quot;&#x59D3;&#x540D;&quot;:{$push:&quot;$name&quot;},</span>
      <span class="token comment">// &quot;xxx&quot;:{$push:&quot;$$ROOT&quot;}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>  
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pretty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="match-&#x7BA1;&#x9053;">match &#x7BA1;&#x9053;</h4>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">aggregate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
   <span class="token punctuation">{</span>
     $match<span class="token punctuation">:</span> <span class="token punctuation">{</span>
       age<span class="token punctuation">:</span><span class="token punctuation">{</span>$gt<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      $group<span class="token punctuation">:</span><span class="token punctuation">{</span>
        _id<span class="token punctuation">:</span><span class="token string">&quot;$hometown&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;&#x5E73;&#x5747;&#x5E74;&#x9F84;&quot;</span><span class="token punctuation">:</span><span class="token punctuation">{</span>$avg<span class="token punctuation">:</span><span class="token string">&quot;$age&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;&#x6700;&#x5927;&#x5E74;&#x9F84;&quot;</span><span class="token punctuation">:</span><span class="token punctuation">{</span>$max<span class="token punctuation">:</span><span class="token string">&quot;$age&quot;</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="project-&#x7BA1;&#x9053;">project &#x7BA1;&#x9053;</h4>
<blockquote>
<p>&#x548C;&#x6295;&#x5F71;&#x4E00;&#x6837;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x8BBE;&#x7F6E;&#x5C31;&#x8868;&#x793A;&#x9690;&#x85CF;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;<code>1</code>&#x8868;&#x793A;&#x8868;&#x793A;&#x663E;&#x793A;&#xFF0C;<code>_id</code> &#x9ED8;&#x8BA4;&#x662F;&#x663E;&#x793A;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x8BA9;<code>_id</code>&#x4E0D;&#x663E;&#x793A;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;<code>0</code></p>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">aggregate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    $match<span class="token punctuation">:</span><span class="token punctuation">{</span>
      age<span class="token punctuation">:</span><span class="token punctuation">{</span>$gt<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    $group<span class="token punctuation">:</span><span class="token punctuation">{</span>
      _id<span class="token punctuation">:</span><span class="token string">&quot;$hometown&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;&#x5E73;&#x5747;&#x5E74;&#x9F84;&quot;</span><span class="token punctuation">:</span><span class="token punctuation">{</span>$avg<span class="token punctuation">:</span><span class="token string">&quot;$age&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&quot;&#x6700;&#x5927;&#x5E74;&#x9F84;&quot;</span><span class="token punctuation">:</span><span class="token punctuation">{</span>$max<span class="token punctuation">:</span><span class="token string">&quot;$age&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    $project<span class="token punctuation">:</span><span class="token punctuation">{</span>
      <span class="token string">&quot;_id&quot;</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">&quot;&#x5E73;&#x5747;&#x5E74;&#x9F84;&quot;</span><span class="token punctuation">:</span><span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h4 id="sort-&#x7BA1;&#x9053;">sort &#x7BA1;&#x9053;</h4>
<blockquote>
<p><code>1</code>&#x8868;&#x793A;&#x5347;&#x5E8F;&#xFF0C;<code>-1</code>&#x8868;&#x793A;&#x964D;&#x5E8F;</p>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">aggregate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    $match<span class="token punctuation">:</span><span class="token punctuation">{</span>
      age<span class="token punctuation">:</span><span class="token punctuation">{</span>$gt<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    $sort<span class="token punctuation">:</span><span class="token punctuation">{</span>
      age<span class="token punctuation">:</span><span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h4 id="limit&#x7BA1;&#x9053;-&#x548C;-skip&#x7BA1;&#x9053;">limit&#x7BA1;&#x9053; &#x548C; skip&#x7BA1;&#x9053;</h4>
<blockquote>
<p><code>limit</code>&#x7BA1;&#x9053;&#x548C;<code>skip</code>&#x7BA1;&#x9053;&#x6709;&#x5148;&#x540E;&#x6B21;&#x5E8F;&#x56E0;&#x4E3A;&#x662F;&#x7BA1;&#x9053;&#x7684;&#x4F5C;&#x7528;</p>
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">aggregate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    $match<span class="token punctuation">:</span><span class="token punctuation">{</span>
      age<span class="token punctuation">:</span><span class="token punctuation">{</span>$gte<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    $limit<span class="token punctuation">:</span><span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    $skip<span class="token punctuation">:</span><span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h4 id="unwind-&#x7BA1;&#x9053;">unwind &#x7BA1;&#x9053;</h4>
<blockquote>
<p>&#x6309;&#x7167;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x62C6;&#x5206;&#x6210;&#x591A;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4F1A;&#x8FC7;&#x6EE4; &#x5217;&#x8868;&#x4E3A;&#x7A7A;&#xFF0C;&#x5217;&#x8868;&#x4E3A; null &#x5B57;&#x6BB5;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x8981;&#x4E0D;&#x8FC7;&#x6EE4;&#x6570;&#x636E;&#x4F7F;&#x7528;<code>preserveNullAndEmptyArrays:true</code></p>
</blockquote>
<pre><code class="lang-js">db<span class="token punctuation">.</span>t2<span class="token punctuation">.</span><span class="token function">aggregate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    $unwind<span class="token punctuation">:</span><span class="token string">&apos;$size&apos;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

db<span class="token punctuation">.</span>t3<span class="token punctuation">.</span><span class="token function">aggregate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    $unwind<span class="token punctuation">:</span><span class="token string">&apos;$size&apos;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// &#x4E0D;&#x8FC7;&#x6EE4;&#x6570;&#x636E;</span>
db<span class="token punctuation">.</span>t3<span class="token punctuation">.</span><span class="token function">aggregate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    $unwind<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// &#x8BBE;&#x7F6E;&#x62C6;&#x5206;&#x5B57;&#x6BB5;</span>
      path<span class="token punctuation">:</span><span class="token string">&apos;$size&apos;</span><span class="token punctuation">,</span>
      <span class="token comment">// &#x8BBE;&#x7F6E;&#x4E0D;&#x8FC7;&#x6EE4;&#x6570;&#x636E;</span>
      preserveNullAndEmptyArrays<span class="token punctuation">:</span><span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
</div></div></div></sec>
<sec data-title="mongodb &#x7D22;&#x5F15;" data-id="section11" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>mongodb &#x7D22;&#x5F15;<a class="pull-right section atTitle btn btn-default" target="section11"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section11"><div class="panel-body">
<h4 id="&#x521B;&#x5EFA;&#x7D22;&#x5F15;">&#x521B;&#x5EFA;&#x7D22;&#x5F15;</h4>
<pre><code class="lang-js">db<span class="token punctuation">.</span>t1<span class="token punctuation">.</span><span class="token function">ensureIndex</span><span class="token punctuation">(</span>
  <span class="token comment">// &#x8BBE;&#x7F6E;&#x7D22;&#x5F15;&#x5B57;&#x6BB5;</span>
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// &#x8BBE;&#x7F6E;&#x7D22;&#x5F15;&#x4E3A;&#x552F;&#x4E00;&#x7D22;&#x5F15;</span>
  <span class="token comment">// {&quot;unique&quot;:true}</span>
<span class="token punctuation">)</span>
</code></pre>
<h4 id="&#x67E5;&#x770B;&#x6587;&#x6863;&#x6240;&#x6709;&#x7D22;&#x5F15;">&#x67E5;&#x770B;&#x6587;&#x6863;&#x6240;&#x6709;&#x7D22;&#x5F15;</h4>
<pre><code class="lang-js">db<span class="token punctuation">.</span>t1<span class="token punctuation">.</span><span class="token function">getIndexes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="&#x5220;&#x9664;&#x7D22;&#x5F15;">&#x5220;&#x9664;&#x7D22;&#x5F15;</h4>
<pre><code class="lang-js">db<span class="token punctuation">.</span>t1<span class="token punctuation">.</span><span class="token function">dropIndex</span><span class="token punctuation">(</span><span class="token string">&apos;&#x7D22;&#x5F15;&#x540D;&#x79F0;&apos;</span><span class="token punctuation">)</span>
</code></pre>
</div></div></div></sec>
<sec data-title="mongodb &#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;" data-id="section12" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>mongodb &#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;<a class="pull-right section atTitle btn btn-default" target="section12"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section12"><div class="panel-body">
<h4 id="&#x5907;&#x4EFD;">&#x5907;&#x4EFD;</h4>
<pre><code class="lang-bash">mongodump -h dbhost -d dbname -o dbdirectory
</code></pre>
<h4 id="&#x6062;&#x590D;">&#x6062;&#x590D;</h4>
<pre><code class="lang-bash">mongorestore -h dbhost -d dbname --dir dbdirectory
</code></pre>
<h4 id="&#x5B9A;&#x65F6;&#x5907;&#x4EFD;">&#x5B9A;&#x65F6;&#x5907;&#x4EFD;</h4>
<blockquote>
<p>crontab &#x5B9A;&#x4E49;&#x6267;&#x884C;&#x811A;&#x672C;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;</p>
</blockquote>
<pre><code class="lang-bash"><span class="token comment"># mysql &#x5B9A;&#x65F6;&#x5907;&#x4EFD;&#x811A;&#x672C;</span>
mysqldump -u&#x7528;&#x6237;&#x540D; -p&#x5BC6;&#x7801; cslized <span class="token operator">|</span> <span class="token function">gzip</span> <span class="token operator">&gt;</span> /data/backup/bks/cslized_<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%Y%m%d_%H%M%S<span class="token variable">)</span></span>.sql.gz

<span class="token comment"># mongodb &#x5B9A;&#x65F6;&#x5907;&#x4EFD;&#x811A;&#x672C;</span>
mongodump -h dbhost -d dbname -o dbdirectory <span class="token operator">|</span> <span class="token function">gzip</span> <span class="token operator">&gt;</span> /data/backup/bks/cslized_<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%Y%m%d_%H%M%S<span class="token variable">)</span></span>.sql.gz
</code></pre>
</div></div></div></sec>
<sec data-title="python &#x4E0E; mongodb&#x4EA4;&#x4E92;" data-id="section13" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>python &#x4E0E; mongodb&#x4EA4;&#x4E92;<a class="pull-right section atTitle btn btn-default" target="section13"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section13"><div class="panel-body">
<h4 id="&#x5B9E;&#x73B0;&#x6D41;&#x7A0B;">&#x5B9E;&#x73B0;&#x6D41;&#x7A0B;</h4>
<ol>
<li>&#x5BFC;&#x5165;&#x6A21;&#x5757;<pre><code class="lang-python"><span class="token keyword">from</span> pymongo <span class="token keyword">import</span> <span class="token operator">*</span>
</code></pre>
</li>
<li>&#x521B;&#x5EFA;&#x5BA2;&#x6237;&#x7AEF;&#x5BF9;&#x8C61;<pre><code class="lang-python">client <span class="token operator">=</span> MongoClient<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&apos;127.0.0.1&apos;</span><span class="token punctuation">,</span>port<span class="token operator">=</span><span class="token number">27017</span><span class="token punctuation">)</span>
</code></pre>
</li>
<li>&#x83B7;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x8C61;<pre><code class="lang-python">db <span class="token operator">=</span> client<span class="token punctuation">.</span>db01
</code></pre>
</li>
<li>&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;</li>
</ol>
<h4 id="&#x4EE3;&#x7801;&#x5B9E;&#x73B0;">&#x4EE3;&#x7801;&#x5B9E;&#x73B0;</h4>
<pre><code class="lang-python"><span class="token comment">#!/usr/bin/python3</span>
<span class="token comment"># -*- coding: utf-8 -*-</span>


<span class="token comment"># 0. &#x5B89;&#x88C5; sudo pip install pymongo</span>

<span class="token comment"># 1. &#x5BFC;&#x5165;&#x6A21;&#x5757;</span>
<span class="token keyword">from</span> pymongo <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token comment"># 2. &#x521B;&#x5EFA;&#x5BA2;&#x6237;&#x7AEF;&#x5BF9;&#x8C61;</span>
client <span class="token operator">=</span> MongoClient<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&apos;127.0.0.1&apos;</span><span class="token punctuation">,</span>port<span class="token operator">=</span><span class="token number">27017</span><span class="token punctuation">)</span>

<span class="token comment"># 3. &#x83B7;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x8C61;</span>
db <span class="token operator">=</span> client<span class="token punctuation">.</span>db01

<span class="token comment"># 4. &#x5BF9;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;</span>

<span class="token comment"># 4.1 &#x589E;</span>
<span class="token comment"># db.pythoncoll.insert(</span>
<span class="token comment">#     {</span>
<span class="token comment">#         &quot;name&quot;:&quot;hello&quot;</span>
<span class="token comment">#     }</span>
<span class="token comment"># )</span>


<span class="token comment"># 4.2 &#x66F4;&#x65B0;</span>
<span class="token comment"># &#x6574;&#x4F53;&#x66F4;&#x65B0;</span>
<span class="token comment"># db.stu.update(</span>
<span class="token comment">#     # &#x66F4;&#x65B0;&#x6761;&#x4EF6;</span>
<span class="token comment">#     {</span>
<span class="token comment">#         &quot;hometown&quot;:&quot;&#x8499;&#x53E4;&quot;</span>
<span class="token comment">#     },</span>
<span class="token comment">#     # &#x66F4;&#x65B0;&#x5185;&#x5BB9;</span>
<span class="token comment">#     {</span>
<span class="token comment">#         &quot;name&quot;:&quot;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&quot;</span>
<span class="token comment">#     }</span>
<span class="token comment"># )</span>
<span class="token comment"># &#x5C40;&#x90E8;&#x66F4;&#x65B0;</span>
<span class="token comment"># db.stu.update(</span>
<span class="token comment">#     # &#x66F4;&#x65B0;&#x6761;&#x4EF6;</span>
<span class="token comment">#     {</span>
<span class="token comment">#         &quot;hometown&quot;:&quot;&#x6843;&#x82B1;&#x5C9B;&quot;</span>
<span class="token comment">#     },</span>
<span class="token comment">#     # &#x66F4;&#x65B0;&#x5185;&#x5BB9;</span>
<span class="token comment">#     {</span>
<span class="token comment">#         &quot;$set&quot;:{</span>
<span class="token comment">#             &quot;name&quot;:&quot;python&quot;</span>
<span class="token comment">#         }</span>
<span class="token comment">#     }</span>
<span class="token comment"># )</span>
<span class="token comment"># &#x6279;&#x91CF;&#x66F4;&#x65B0;</span>
<span class="token comment"># db.stu.update(</span>
<span class="token comment">#     # &#x66F4;&#x65B0;&#x6761;&#x4EF6;</span>
<span class="token comment">#     {</span>
<span class="token comment">#         &quot;hometown&quot;:&quot;&#x5927;&#x7406;&quot;</span>
<span class="token comment">#     },</span>
<span class="token comment">#     # &#x66F4;&#x65B0;&#x5185;&#x5BB9;</span>
<span class="token comment">#     {</span>
<span class="token comment">#         &quot;$set&quot;:{</span>
<span class="token comment">#             &quot;name&quot;:&quot;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&quot;</span>
<span class="token comment">#         }</span>
<span class="token comment">#     },</span>
<span class="token comment">#     # &#x66F4;&#x65B0;&#x65B9;&#x5F0F;,&#x4F7F;&#x7528;&#x5173;&#x952E;&#x8BCD;&#x53C2;&#x6570;</span>
<span class="token comment">#     multi=True</span>
<span class="token comment"># )</span>

<span class="token comment"># 4.3 &#x67E5;&#x8BE2;</span>
<span class="token triple-quoted-string string">&apos;&apos;&apos;
&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4F7F;&#x7528;&#x6E38;&#x6807;
&#x8BA9;&#x4F7F;&#x7528;&#x5185;&#x5B58;&#x66F4;&#x5C11;
&apos;&apos;&apos;</span>
<span class="token comment"># &#x8FD4;&#x56DE;&#x662F;&#x6E38;&#x6807;&#x5BF9;&#x8C61;</span>
<span class="token comment"># cursor = db.stu.find(</span>
<span class="token comment">#     # &#x67E5;&#x8BE2;&#x6761;&#x4EF6;</span>
<span class="token comment">#     {</span>
<span class="token comment">#         &quot;hometown&quot;:&quot;&#x5927;&#x7406;&quot;</span>
<span class="token comment">#     }</span>
<span class="token comment"># )</span>
<span class="token comment"># for row in cursor:</span>
<span class="token comment">#     print(row)</span>
<span class="token comment"># print(cursor)</span>



<span class="token comment"># 4.4 &#x5220;&#x9664;</span>
<span class="token comment"># db.stu.remove(</span>
<span class="token comment">#     # &#x5220;&#x9664;&#x6761;&#x4EF6;</span>
<span class="token comment">#     {</span>
<span class="token comment">#         &quot;age&quot;:{&quot;$gt&quot;:20}</span>
<span class="token comment">#     }</span>
<span class="token comment"># )</span>
<span class="token comment"># &#x6E05;&#x7A7A;&#x6570;&#x636E;</span>
<span class="token comment"># db.stu.remove({})</span>
</code></pre>
</div></div></div></sec>
<sec data-title="mongodb &#x6743;&#x9650;&#x7BA1;&#x7406;" data-id="section14" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>mongodb &#x6743;&#x9650;&#x7BA1;&#x7406;<a class="pull-right section atTitle btn btn-default" target="section14"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section14"><div class="panel-body">
<h4 id="&#x542F;&#x52A8;&#x9A8C;&#x8BC1;">&#x542F;&#x52A8;&#x9A8C;&#x8BC1;</h4>
<ul>
<li><code>--auth</code> &#x542F;&#x52A8;&#x6DFB;&#x52A0;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;</li>
<li>&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x53C2;&#x6570;<code>auth=true</code></li>
</ul>
<h4 id="&#x521B;&#x5EFA;root&#x8D26;&#x53F7;">&#x521B;&#x5EFA;root&#x8D26;&#x53F7;</h4>
<blockquote>
<p>&#x5F53; <code>mongodb</code> &#x4E2D;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x8D26;&#x53F7;&#x65F6;&#x5FC5;&#x987B;&#x5148;&#x521B;&#x5EFA; <code>root</code> &#x8D26;&#x53F7;&#xFF0C;&#x4E00;&#x65E6;&#x521B;&#x5EFA;<code>root</code> &#x8D26;&#x53F7;&#x6210;&#x529F;&#x5C31;&#x4F1A;&#x751F;&#x6548;</p>
<pre><code class="lang-js"><span class="token comment">// &#x8FDB;&#x5165; admin &#x6570;&#x636E;</span>
use admin
<span class="token comment">// &#x521B;&#x5EFA; root &#x8D26;&#x53F7;</span>
db<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token string">&quot;user&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;python&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;pwd&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;roles&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre>
<h4 id="&#x8D26;&#x53F7;&#x767B;&#x5F55;">&#x8D26;&#x53F7;&#x767B;&#x5F55;</h4>
<pre><code class="lang-js">use admin
db<span class="token punctuation">.</span><span class="token function">auth</span><span class="token punctuation">(</span><span class="token string">&apos;&#x7528;&#x6237;&#x540D;&apos;</span><span class="token punctuation">,</span><span class="token string">&apos;&#x5BC6;&#x7801;&apos;</span><span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h4 id="&#x521B;&#x5EFA;&#x666E;&#x901A;&#x8D26;&#x53F7;">&#x521B;&#x5EFA;&#x666E;&#x901A;&#x8D26;&#x53F7;</h4>
<blockquote>
<p>&#x524D;&#x63D0;&#x6761;&#x4EF6;&#x5FC5;&#x987B;&#x5148; <code>root</code> &#x767B;&#x5F55;</p>
<pre><code class="lang-js">use admin
db<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token string">&quot;user&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;db_01&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;pwd&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;roles&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// &#x8BBE;&#x7F6E;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;</span>
        <span class="token string">&quot;db&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;db01&quot;</span><span class="token punctuation">,</span>
        <span class="token comment">// &#x8BBE;&#x7F6E;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#x6743;&#x9650;&#xFF0C;read,write&#xFF0C;readWrite</span>
        <span class="token string">&quot;role&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;readWrite&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
db<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token string">&quot;user&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;db_02&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;pwd&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;roles&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// &#x8BBE;&#x7F6E;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;</span>
        <span class="token string">&quot;db&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;db02&quot;</span><span class="token punctuation">,</span>
        <span class="token comment">// &#x8BBE;&#x7F6E;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#x6743;&#x9650;&#xFF0C;read,write&#xFF0C;readWrite</span>
        <span class="token string">&quot;role&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;readWrite&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h4 id="&#x67E5;&#x770B;&#x7528;&#x6237;&#x5217;&#x8868;">&#x67E5;&#x770B;&#x7528;&#x6237;&#x5217;&#x8868;</h4>
<pre><code class="lang-js">use admin
show users
</code></pre>
<h4 id="&#x5220;&#x9664;&#x7528;&#x6237;">&#x5220;&#x9664;&#x7528;&#x6237;</h4>
<blockquote>
<p>&#x5FC5;&#x987B;&#x5148;root&#x767B;&#x5F55;</p>
<pre><code class="lang-js">use admin
db<span class="token punctuation">.</span><span class="token function">dropUser</span><span class="token punctuation">(</span><span class="token string">&apos;&#x7528;&#x6237;&#x540D;&apos;</span><span class="token punctuation">)</span>
</code></pre>
</blockquote>
</div></div></div></sec>
<sec data-title="python &#x4E0E;mongodb&#x4EA4;&#x4E92;-&#x9A8C;&#x8BC1;&#x6743;&#x9650;&#x6A21;&#x5F0F;" data-id="section15" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>python &#x4E0E;mongodb&#x4EA4;&#x4E92;-&#x9A8C;&#x8BC1;&#x6743;&#x9650;&#x6A21;&#x5F0F;<a class="pull-right section atTitle btn btn-default" target="section15"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section15"><div class="panel-body">
<h4 id="&#x6709;&#x4E24;&#x79CD;&#x94FE;&#x63A5;&#x65B9;&#x5F0F;">&#x6709;&#x4E24;&#x79CD;&#x94FE;&#x63A5;&#x65B9;&#x5F0F;</h4>
<ul>
<li>&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x767B;&#x5F55;&#x9A8C;&#x8BC1;&#x65B9;&#x5F0F;<pre><code class="lang-python">client <span class="token operator">=</span> MongoClient<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&apos;127.0.0.1&apos;</span><span class="token punctuation">,</span>port<span class="token operator">=</span><span class="token number">27017</span><span class="token punctuation">)</span>
<span class="token comment"># &#x901A;&#x8FC7;&#x7BA1;&#x7406;&#x5458;&#x767B;&#x5F55;</span>
admin <span class="token operator">=</span> client<span class="token punctuation">.</span>admin
admin<span class="token punctuation">.</span>authenticate<span class="token punctuation">(</span><span class="token string">&apos;python&apos;</span><span class="token punctuation">,</span><span class="token string">&apos;123456&apos;</span><span class="token punctuation">)</span>
</code></pre>
</li>
<li>&#x901A;&#x8FC7; <code>uri</code> &#x94FE;&#x63A5;<pre><code class="lang-python">user <span class="token operator">=</span> <span class="token string">&apos;python&apos;</span>
pwd <span class="token operator">=</span> <span class="token string">&apos;123456&apos;</span>
server <span class="token operator">=</span> <span class="token string">&apos;127.0.0.1&apos;</span>
port <span class="token operator">=</span> <span class="token string">&apos;27017&apos;</span>
db_name <span class="token operator">=</span> <span class="token string">&apos;admin&apos;</span>
uri <span class="token operator">=</span> <span class="token string">&apos;mongodb://&apos;</span> <span class="token operator">+</span> user <span class="token operator">+</span> <span class="token string">&apos;:&apos;</span> <span class="token operator">+</span> pwd <span class="token operator">+</span> <span class="token string">&apos;@&apos;</span> <span class="token operator">+</span> server <span class="token operator">+</span> <span class="token string">&apos;:&apos;</span> <span class="token operator">+</span> port <span class="token operator">+</span><span class="token string">&apos;/&apos;</span><span class="token operator">+</span> db_name
client <span class="token operator">=</span> MongoClient<span class="token punctuation">(</span>uri<span class="token punctuation">)</span>
</code></pre>
</li>
</ul>
<h4 id="&#x4EE3;&#x7801;&#x5B9E;&#x73B0;">&#x4EE3;&#x7801;&#x5B9E;&#x73B0;</h4>
<pre><code class="lang-python"><span class="token comment">#!/usr/bin/python3</span>
<span class="token comment"># -*- coding: utf-8 -*-</span>

<span class="token comment"># 0. pip install pymongo</span>

<span class="token comment"># 1. &#x5BFC;&#x5165;&#x6A21;&#x5757;</span>
<span class="token keyword">from</span> pymongo <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token comment"># 2. &#x521B;&#x5EFA;&#x5BA2;&#x6237;&#x7AEF;&#x5BF9;&#x8C61;</span>
<span class="token triple-quoted-string string">&apos;&apos;&apos;
client = MongoClient(host=&apos;127.0.0.1&apos;,port=27017)
# &#x901A;&#x8FC7;&#x7BA1;&#x7406;&#x5458;&#x767B;&#x5F55;
admin = client.admin
admin.authenticate(&apos;python&apos;,&apos;123456&apos;)
&apos;&apos;&apos;</span>
<span class="token comment"># &#x901A;&#x8FC7;uri&#x8FDB;&#x884C;&#x767B;&#x5F55;</span>
user <span class="token operator">=</span> <span class="token string">&apos;python&apos;</span>
pwd <span class="token operator">=</span> <span class="token string">&apos;123456&apos;</span>
server <span class="token operator">=</span> <span class="token string">&apos;127.0.0.1&apos;</span>
port <span class="token operator">=</span> <span class="token string">&apos;27017&apos;</span>
db_name <span class="token operator">=</span> <span class="token string">&apos;admin&apos;</span>
uri <span class="token operator">=</span> <span class="token string">&apos;mongodb://&apos;</span> <span class="token operator">+</span> user <span class="token operator">+</span> <span class="token string">&apos;:&apos;</span> <span class="token operator">+</span> pwd <span class="token operator">+</span> <span class="token string">&apos;@&apos;</span> <span class="token operator">+</span> server <span class="token operator">+</span> <span class="token string">&apos;:&apos;</span> <span class="token operator">+</span> port <span class="token operator">+</span><span class="token string">&apos;/&apos;</span><span class="token operator">+</span> db_name
client <span class="token operator">=</span> MongoClient<span class="token punctuation">(</span>uri<span class="token punctuation">)</span>


<span class="token comment"># &#x83B7;&#x53D6;&#x6570;&#x636E;&#x5BF9;&#x8C61;</span>
db_01 <span class="token operator">=</span> client<span class="token punctuation">.</span>db_01

<span class="token comment"># &#x67E5;,&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x6E38;&#x6807;</span>
<span class="token comment"># &#x6E38;&#x6807;&#x6307;&#x9488;&#x6307;&#x5411;&#x5F53;&#x524D;&#x8BB0;&#x5F55;</span>
cursor <span class="token operator">=</span> db_01<span class="token punctuation">.</span>t1<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cursor<span class="token punctuation">)</span>

<span class="token keyword">for</span> row <span class="token keyword">in</span> cursor<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>
</code></pre>
</div></div></div></sec>
<sec data-title="&#x6D4B;&#x8BD5;&#x6570;&#x636E;" data-id="section16" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>&#x6D4B;&#x8BD5;&#x6570;&#x636E;<a class="pull-right section atTitle btn btn-default" target="section16"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section16"><div class="panel-body">
<pre><code class="lang-js">db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>_id <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span><span class="token string">&apos;&#x90ED;&#x9756;&apos;</span><span class="token punctuation">,</span>hometown<span class="token punctuation">:</span><span class="token string">&apos;&#x8499;&#x53E4;&apos;</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">,</span>gender<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>_id <span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span><span class="token string">&apos;&#x9EC4;&#x84C9;&apos;</span><span class="token punctuation">,</span>hometown<span class="token punctuation">:</span><span class="token string">&apos;&#x6843;&#x82B1;&#x5C9B;&apos;</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">,</span>gender<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>_id <span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span><span class="token string">&apos;&#x534E;&#x7B5D;&apos;</span><span class="token punctuation">,</span>hometown<span class="token punctuation">:</span><span class="token string">&apos;&#x8499;&#x53E4;&apos;</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">,</span>gender<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>_id <span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span><span class="token string">&apos;&#x9EC4;&#x836F;&#x5E08;&apos;</span><span class="token punctuation">,</span>hometown<span class="token punctuation">:</span><span class="token string">&apos;&#x6843;&#x82B1;&#x5C9B;&apos;</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">40</span><span class="token punctuation">,</span>gender<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>_id <span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span><span class="token string">&apos;&#x6BB5;&#x8A89;&apos;</span><span class="token punctuation">,</span>hometown<span class="token punctuation">:</span><span class="token string">&apos;&#x5927;&#x7406;&apos;</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">16</span><span class="token punctuation">,</span>gender<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>stu<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>_id <span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span><span class="token string">&apos;&#x6BB5;&#x738B;&#x7237;&apos;</span><span class="token punctuation">,</span>hometown<span class="token punctuation">:</span><span class="token string">&apos;&#x5927;&#x7406;&apos;</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">45</span><span class="token punctuation">,</span>gender<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
</div></div></div></sec>
<sec data-title="&#x603B;&#x7ED3;" data-id="sectionend" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>&#x603B;&#x7ED3;<a class="pull-right section atTitle btn btn-default" target="sectionend"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="sectionend"><div class="panel-body">
</div></div></div></sec>
</body></html>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../数据保存/数据保存.html" class="navigation navigation-prev " aria-label="Previous page: 数据保存"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../scrapy框架/scrapy框架.html" class="navigation navigation-next " aria-label="Next page: scrapy框架"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-splitter/splitter.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

    
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sectionx/sectionx.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-ace/ace/ace.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-ace/ace.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"expandable-chapters-small":{},"fontsettings":{"theme":"white","family":"sans","size":2},"prism":{"css":["prismjs/themes/prism-solarizedlight.css"],"lang":{"flow":"typescript"},"ignore":["mermaid","eval-js"],"sectionx":{"tag":"b"},"include-codeblock":{"template":"ace","unindent":true,"theme":"monokai"}},"splitter":{},"mermaid":{},"sectionx":{},"include-codeblock":{"check":false,"edit":false,"lang":"","fixlang":false,"template":"default","theme":"chrome","unindent":false},"ace":{},"emphasize":{},"toggle-chapters":{},"codeblock-filename":{}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
    </body>
    <!-- End of book 爬虫课程 -->
</html>
