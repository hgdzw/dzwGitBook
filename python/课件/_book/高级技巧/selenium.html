<!DOCTYPE HTML>
<html lang="zh-hans" >
    <!-- Start book 爬虫课程 -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>selenium | 爬虫课程</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        <meta name="author" content="zhuwei">
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-splitter/splitter.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-prism/prism-solarizedlight.css">
        
    
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-sectionx/sectionx.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-ace/ace.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-emphasize/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-codeblock-filename/block.css">
        
    
    
        <link rel="stylesheet" href="../styles/website.css">
    

        
    
    
    <link rel="next" href="../高级技巧/打码平台.html" />
    
    
    <link rel="prev" href="../高级技巧/高性能爬虫.html" />
    

        <!-- head:end -->
    </head>
    <body>
        <!-- body:start -->
        
    <div class="book"
        data-level="4.2"
        data-chapter-title="selenium"
        data-filepath="高级技巧/selenium.md"
        data-basepath=".."
        data-revision="Mon Feb 11 2019 22:53:05 GMT+0800 (CST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        爬虫课程介绍
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="爬虫预备知识/爬虫预备知识.html">
            
                
                    <a href="../爬虫预备知识/爬虫预备知识.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        爬虫预备知识
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="爬虫预备知识/爬虫定义、分类和流程.html">
            
                
                    <a href="../爬虫预备知识/爬虫定义、分类和流程.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        爬虫定义、分类和流程
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="爬虫预备知识/http和https的复习.html">
            
                
                    <a href="../爬虫预备知识/http和https的复习.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        http和https的复习
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="网络数据获取/网络数据获取.html">
            
                
                    <a href="../网络数据获取/网络数据获取.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        网络数据获取
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="网络数据获取/请求分析流程.html">
            
                
                    <a href="../网络数据获取/请求分析流程.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        请求分析流程
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="网络数据获取/requests模块介绍与使用.html">
            
                
                    <a href="../网络数据获取/requests模块介绍与使用.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        requests 模块
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="数据提取/数据提取.html">
            
                
                    <a href="../数据提取/数据提取.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        数据提取
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="数据提取/数据提取概念和数据的分类.html">
            
                
                    <a href="../数据提取/数据提取概念和数据的分类.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        数据提取概念和数据的分类
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="数据提取/JSON数据提取.html">
            
                
                    <a href="../数据提取/JSON数据提取.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        JSON 与 jsonpath 数据提取
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="数据提取/使用正则表达式提取数据.html">
            
                
                    <a href="../数据提取/使用正则表达式提取数据.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        正则表达式 数据提取
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="数据提取/xpath数据提取.html">
            
                
                    <a href="../数据提取/xpath数据提取.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        html/xml 与 xpath 数据提取
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="数据提取/bs4数据提取.html">
            
                
                    <a href="../数据提取/bs4数据提取.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        beautifulsoup 数据提取
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="数据提取/csv数据转换.html">
            
                
                    <a href="../数据提取/csv数据转换.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        json、csv 数据转换
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="高级技巧/高级技巧.html">
            
                
                    <a href="../高级技巧/高级技巧.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        高级技巧
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="高级技巧/高性能爬虫.html">
            
                
                    <a href="../高级技巧/高性能爬虫.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        高性能爬虫
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="4.2" data-path="高级技巧/selenium.html">
            
                
                    <a href="../高级技巧/selenium.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        selenium
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="高级技巧/打码平台.html">
            
                
                    <a href="../高级技巧/打码平台.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        打码平台
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="高级技巧/tesseract.html">
            
                
                    <a href="../高级技巧/tesseract.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        tesseract OCR识别
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="高级技巧/代理池.html">
            
                
                    <a href="../高级技巧/代理池.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        代理池
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="高级技巧/常见反扒手段.html">
            
                
                    <a href="../高级技巧/常见反扒手段.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        常见反扒手段
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="数据保存/数据保存.html">
            
                
                    <a href="../数据保存/数据保存.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        数据保存
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="数据保存/mongodb.html">
            
                
                    <a href="../数据保存/mongodb.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        mongodb
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="scrapy框架/scrapy框架.html">
            
                
                    <a href="../scrapy框架/scrapy框架.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        scrapy框架
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="scrapy框架/scrapy基本使用.html">
            
                
                    <a href="../scrapy框架/scrapy基本使用.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        scrapy 基本使用
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="scrapy框架/scrapy高级使用.html">
            
                
                    <a href="../scrapy框架/scrapy高级使用.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        scrapy 高级使用
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="scrapy框架/scrapy项目部署.html">
            
                
                    <a href="../scrapy框架/scrapy项目部署.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        scrapy 项目部署
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="scrapy框架/scrapy redis使用.html">
            
                
                    <a href="../scrapy框架/scrapy redis使用.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        scrapy redis使用
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="附录/附录.html">
            
                
                    <a href="../附录/附录.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        附录
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="附录/HTTP请求列表.html">
            
                
                    <a href="../附录/HTTP请求列表.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        HTTP请求列表
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="附录/HTTP响应列表.html">
            
                
                    <a href="../附录/HTTP响应列表.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        HTTP响应列表
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    本书使用 GitBook 发布
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >爬虫课程</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <html><head></head><body><h1 id="selenium">selenium</h1>
<sec data-title="&#x5B66;&#x4E60;&#x76EE;&#x6807;" data-id="section0" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>&#x5B66;&#x4E60;&#x76EE;&#x6807;<a class="pull-right section atTitle btn btn-default" target="section0"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section0"><div class="panel-body">
<ul>
<li><strong>&#x3010;&#x638C;&#x63E1;&#x3011;</strong> selenium &#x6A21;&#x5757;&#x548C; &#x6D4F;&#x89C8;&#x5668;&#x9A71;&#x52A8;&#x7684;&#x5B89;&#x88C5;</li>
<li><strong>&#x3010;&#x638C;&#x63E1;&#x3011;</strong> &#x4F7F;&#x7528; selenium &#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x65B9;&#x6CD5;</li>
<li><strong>&#x3010;&#x638C;&#x63E1;&#x3011;</strong> &#x4F7F;&#x7528; selenium &#x63D0;&#x53D6;&#x6570;&#x636E;</li>
</ul>
</div></div></div></sec>
<sec data-title="selenium &#x4ECB;&#x7ECD;&#x4E0E;&#x5B89;&#x88C5;" data-id="section01" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>selenium &#x4ECB;&#x7ECD;&#x4E0E;&#x5B89;&#x88C5;<a class="pull-right section atTitle btn btn-default" target="section01"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section01"><div class="panel-body">
<h4 id="&#x4ECB;&#x7ECD;">&#x4ECB;&#x7ECD;</h4>
<blockquote>
<p>Selenium&#x662F;&#x4E00;&#x4E2A;Web&#x7684;&#x81EA;&#x52A8;&#x5316;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;&#xFF0C;&#x6700;&#x521D;&#x662F;&#x4E3A;&#x7F51;&#x7AD9;&#x81EA;&#x52A8;&#x5316;&#x6D4B;&#x8BD5;&#x800C;&#x5F00;&#x53D1;&#x7684;&#xFF0C;Selenium &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8FD0;&#x884C;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E0A;&#xFF0C;&#x5B83;&#x652F;&#x6301;&#x6240;&#x6709;&#x4E3B;&#x6D41;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#xFF08;&#x5305;&#x62EC;PhantomJS&#x8FD9;&#x4E9B;&#x65E0;&#x754C;&#x9762;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x63A5;&#x6536;&#x6307;&#x4EE4;&#xFF0C;&#x8BA9;&#x6D4F;&#x89C8;&#x5668;&#x81EA;&#x52A8;&#x52A0;&#x8F7D;&#x9875;&#x9762;&#xFF0C;&#x83B7;&#x53D6;&#x9700;&#x8981;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x751A;&#x81F3;&#x9875;&#x9762;&#x622A;&#x5C4F;&#x3002;</p>
<p>&#x7A0B;&#x5E8F;&#x811A;&#x672C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Selenium API &#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x3002;</p>
</blockquote>
<h4 id="&#x5B98;&#x65B9;&#x5730;&#x5740;">&#x5B98;&#x65B9;&#x5730;&#x5740;</h4>
<p><a href="https://www.seleniumhq.org/" target="_blank">https://www.seleniumhq.org/</a></p>
<h4 id="&#x8FD0;&#x884C;&#x6D41;&#x7A0B;">&#x8FD0;&#x884C;&#x6D41;&#x7A0B;</h4>
<p><img src="../images/selenium&#x8FD0;&#x884C;&#x6D41;&#x7A0B;.png" alt="&#x8FD0;&#x884C;&#x6D41;&#x7A0B;"></p>
<h4 id="&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x4E0E;&#x5B89;&#x88C5;">&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x4E0E;&#x5B89;&#x88C5;</h4>
<h5 id="&#x5B89;&#x88C5;-selenium-&#x6A21;&#x5757;">&#x5B89;&#x88C5; Selenium &#x6A21;&#x5757;</h5>
<pre><code class="lang-bash">pip <span class="token function">install</span> selenium
</code></pre>
<h5 id="&#x4E0B;&#x8F7D;&#x5BF9;&#x5E94;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x9A71;&#x52A8;">&#x4E0B;&#x8F7D;&#x5BF9;&#x5E94;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x9A71;&#x52A8;</h5>
<ul>
<li>chrome &#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;<a href="https://sites.google.com/a/chromium.org/chromedriver/" target="_blank">https://sites.google.com/a/chromium.org/chromedriver/</a></li>
<li>&#x56FD;&#x5185;&#x6DD8;&#x5B9D;&#x955C;&#x50CF;&#xFF1A;<a href="http://npm.taobao.org/mirrors/chromedriver/" target="_blank">http://npm.taobao.org/mirrors/chromedriver/</a></li>
</ul>
<p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong> &#x5FC5;&#x987B;&#x5728;&#x4E0B;&#x5BF9;&#x5E94;&#x7684; chrome &#x7248;&#x672C;&#x5BF9;&#x5E94;&#x7684;&#x9A71;&#x52A8;</p>
</div></div></div></sec>
<sec data-title="selenium &#x5FEB;&#x901F;&#x4F53;&#x9A8C;" data-id="section02" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>selenium &#x5FEB;&#x901F;&#x4F53;&#x9A8C;<a class="pull-right section atTitle btn btn-default" target="section02"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section02"><div class="panel-body">
<h4 id="&#x5B9E;&#x73B0;&#x6D41;&#x7A0B;">&#x5B9E;&#x73B0;&#x6D41;&#x7A0B;</h4>
<ol>
<li>&#x5BFC;&#x5165; selenium &#x6A21;&#x5757;</li>
<li>&#x521B;&#x5EFA;&#x6D4F;&#x89C8;&#x5668;&#x5BF9;&#x8C61;</li>
<li>&#x64CD;&#x4F5C;&#x6D4F;&#x89C8;&#x5668;&#x5BF9;&#x8C61;&#x7684;&#x884C;&#x4E3A;</li>
<li>&#x9000;&#x51FA;&#x6D4F;&#x89C8;&#x5668;</li>
</ol>
<h4 id="&#x5B9E;&#x73B0;&#x4EE3;&#x7801;">&#x5B9E;&#x73B0;&#x4EE3;&#x7801;</h4>
<pre><code class="lang-python"><span class="token comment"># 1. &#x5BFC;&#x5165;&#x6A21;&#x5757;</span>
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver
<span class="token comment"># 2. &#x521B;&#x5EFA;&#x6D4F;&#x89C8;&#x5668;&#x5BF9;&#x8C61;</span>
<span class="token comment"># &#x53C2;&#x6570;&#x9A71;&#x52A8;&#x8DEF;&#x5F84;</span>
browser <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token string">&apos;./chromedriver&apos;</span><span class="token punctuation">)</span>
<span class="token comment"># 3. &#x64CD;&#x4F5C;&#x6D4F;&#x89C8;&#x5668;&#x5BF9;&#x8C61;&#x7684;&#x884C;&#x4E3A;</span>
<span class="token comment"># &#x8BA9;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;&#x7F51;&#x9875;</span>
browser<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;https://www.baidu.com/&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># &#x83B7;&#x53D6;&#x8F93;&#x5165;&#x6846;&#x5143;&#x7D20;</span>
input_element <span class="token operator">=</span> browser<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">&quot;kw&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># &#x8F93;&#x5165;&#x5185;&#x5BB9;</span>
input_element<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">&apos;itcast&apos;</span><span class="token punctuation">)</span>
button_element <span class="token operator">=</span> browser<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">&apos;su&apos;</span><span class="token punctuation">)</span>
button_element<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
url_element <span class="token operator">=</span> browser<span class="token punctuation">.</span>find_element_by_class_name<span class="token punctuation">(</span><span class="token string">&quot;favurl&quot;</span><span class="token punctuation">)</span>
url_element<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token comment"># 4. &#x9000;&#x51FA;&#x6D4F;&#x89C8;&#x5668;</span>
browser<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</div></div></div></sec>
<sec data-title="selenium &#x9A71;&#x52A8;&#x5BFB;&#x627E;&#x65B9;&#x5F0F;" data-id="section03" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>selenium &#x9A71;&#x52A8;&#x5BFB;&#x627E;&#x65B9;&#x5F0F;<a class="pull-right section atTitle btn btn-default" target="section03"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section03"><div class="panel-body">
<ol>
<li>&#x901A;&#x8FC7;&#x624B;&#x52A8;&#x6307;&#x5B9A;&#x6D4F;&#x89C8;&#x5668;&#x9A71;&#x52A8;&#x8DEF;&#x5F84;<pre><code class="lang-python"> browser <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token string">&apos;&#x6307;&#x5B9A;&#x9A71;&#x52A8;&#x8DEF;&#x5F84;&apos;</span><span class="token punctuation">)</span>
</code></pre>
</li>
<li>&#x901A;&#x8FC7; <code>$PATH</code>&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x627E;&#x5BFB;&#x6D4F;&#x89C8;&#x5668;&#x9A71;&#x52A8;<pre><code class="lang-Python"> # &#x901A;&#x8FC7; $PATH &#x5BFB;&#x627E;&#x9A71;&#x52A8;&#xFF0C;&#x5982;&#x679C;&#x5BFB;&#x627E;&#x4E0D;&#x5230;&#x5C31;&#x62A5;&#x9519;
 browser = webdriver.Chrome()
</code></pre>
</li>
</ol>
</div></div></div></sec>
<sec data-title="selenium &#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x64CD;&#x4F5C;" data-id="section04" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>selenium &#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x64CD;&#x4F5C;<a class="pull-right section atTitle btn btn-default" target="section04"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section04"><div class="panel-body">
<h5 id="&#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;url">&#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;URL</h5>
<pre><code class="lang-py">browser<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;https://www.baidu.com/&quot;</span><span class="token punctuation">)</span>
</code></pre>
<h5 id="find&#x7CFB;&#x5217;&#x51FD;&#x6570;&#x5B9A;&#x4F4D;&#x5143;&#x7D20;"><code>find</code>&#x7CFB;&#x5217;&#x51FD;&#x6570;&#x5B9A;&#x4F4D;&#x5143;&#x7D20;</h5>
<ul>
<li><code>find_element_by_xxx</code> &#x8FD4;&#x56DE;&#x7B2C;&#x4E00;&#x4E2A;&#x7B26;&#x5408;&#x6761;&#x4EF6; <code>WebElement</code></li>
<li><code>find_elements_by_xxx</code> &#x8FD4;&#x56DE;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x6240;&#x6709;&#x5143;&#x7D20;&#x7684;<code>WebEelemnt</code>&#x5217;&#x8868;</li>
<li><code>find</code>&#x51FD;&#x6570;&#x7CFB;&#x5217;&#x8BF4;&#x660E;<ul>
<li><code>find_element_by_class_name</code>    &#x901A;&#x8FC7;class &#x67E5;&#x8BE2;&#x5143;&#x7D20;</li>
<li><code>find_element_by_id</code>            &#x901A;&#x8FC7; ID</li>
<li><code>find_element_by_name</code>          &#x901A;&#x8FC7;name</li>
<li><code>find_element_by_tag_name</code>      &#x901A;&#x8FC7;&#x6807;&#x7B7E;&#x540D;&#x79F0;</li>
<li><code>find_element_by_css_selector</code>  css&#x6837;&#x5F0F;&#x9009;&#x62E9;</li>
<li><code>find_element_by_link_text</code>     &#x901A;&#x8FC7;&#x94FE;&#x63A5;&#x5185;&#x5BB9;&#x67E5;&#x627E;</li>
<li><code>find_element_by_partial_link_text</code> &#x901A;&#x8FC7;&#x94FE;&#x63A5;&#x5185;&#x5BB9;&#x5305;&#x542B;&#x7684;&#x5185;&#x5BB9;&#x67E5;&#x627E;&#xFF0C;&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;</li>
<li><code>find_element_by_xpath</code>         &#x901A;&#x8FC7;xpath&#x67E5;&#x627E;&#x6570;&#x636E;</li>
</ul>
</li>
</ul>
<h5 id="&#x83B7;&#x53D6;&#x5143;&#x7D20;&#x5C5E;&#x6027;&#x548C;&#x6587;&#x672C;&#x5185;&#x5BB9;">&#x83B7;&#x53D6;&#x5143;&#x7D20;&#x5C5E;&#x6027;&#x548C;&#x6587;&#x672C;&#x5185;&#x5BB9;</h5>
<pre><code class="lang-python"><span class="token comment"># &#x83B7;&#x53D6;&#x5C5E;&#x6027;</span>
element<span class="token punctuation">.</span>get_attribute<span class="token punctuation">(</span><span class="token string">&apos;&#x5C5E;&#x6027;&#x540D;&apos;</span><span class="token punctuation">)</span>
<span class="token comment"># &#x83B7;&#x53D6;&#x6587;&#x672C;&#x5185;&#x5BB9;</span>
element<span class="token punctuation">.</span>text
</code></pre>
<h5 id="&#x8F93;&#x5165;&#x6846;&#x8F93;&#x5165;&#x5185;&#x5BB9;">&#x8F93;&#x5165;&#x6846;&#x8F93;&#x5165;&#x5185;&#x5BB9;</h5>
<pre><code class="lang-python">input_element<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">&apos;itcast&apos;</span><span class="token punctuation">)</span>
</code></pre>
<h5 id="&#x4F7F;&#x7528;&#x65E0;&#x754C;&#x9762;&#x6D4F;&#x89C8;&#x5668;">&#x4F7F;&#x7528;&#x65E0;&#x754C;&#x9762;&#x6D4F;&#x89C8;&#x5668;</h5>
<ul>
<li>&#x4F7F;&#x7528; <code>pyantomjs</code> &#x9A71;&#x52A8; (&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;)<ul>
<li>&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;<a href="http://phantomjs.org/download.html" target="_blank">http://phantomjs.org/download.html</a></li>
<li>&#x4F7F;&#x7528;&#x65B9;&#x5F0F;<pre><code class="lang-python"> browser <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>PhantomJS<span class="token punctuation">(</span><span class="token string">&quot;&#x9A71;&#x52A8;&#x8DEF;&#x5F84;&quot;</span><span class="token punctuation">)</span>
</code></pre>
</li>
</ul>
</li>
<li>&#x8BBE;&#x7F6E; chrome &#x542F;&#x52A8;&#x53C2;&#x6570;<pre><code class="lang-python">options <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>ChromeOptions<span class="token punctuation">(</span><span class="token punctuation">)</span>
options<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&apos;--headless&apos;</span><span class="token punctuation">)</span> <span class="token comment"># &#x5F00;&#x542F;&#x65E0;&#x754C;&#x9762;&#x6A21;&#x5F0F;</span>
options<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&apos;--disable-gpu&apos;</span><span class="token punctuation">)</span> <span class="token comment"># &#x7981;&#x7528;gpu&#xFF0C;&#x89E3;&#x51B3;&#x4E00;&#x4E9B;&#x83AB;&#x540D;&#x7684;&#x95EE;&#x9898;</span>
browser <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token string">&apos;./chromedriver&apos;</span><span class="token punctuation">,</span>chrome_options<span class="token operator">=</span>options<span class="token punctuation">)</span>
</code></pre>
</li>
</ul>
<blockquote>
<p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong>&#x8C03;&#x8BD5;&#x65E0;&#x5934;&#x6D4F;&#x89C8;&#x5668;&#x4F7F;&#x7528;&#x4FDD;&#x5B58;&#x622A;&#x56FE;&#x8C03;&#x8BD5; <code>browser.save_screenshot(&apos;&#x622A;&#x56FE;&#x8DEF;&#x5F84;&apos;)</code></p>
</blockquote>
<h5 id="&#x542F;&#x52A8;&#x8BBE;&#x7F6E;useragent&#x548C;&#x4EE3;&#x7406;">&#x542F;&#x52A8;&#x8BBE;&#x7F6E;User-Agent&#x548C;&#x4EE3;&#x7406;</h5>
<pre><code class="lang-python">options <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>ChromeOptions<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># &#x5207;&#x6362;User-Agent</span>
options<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&apos;--user-agent=Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1&apos;</span><span class="token punctuation">)</span>
<span class="token comment"># &#x8BBE;&#x7F6E;&#x4EE3;&#x7406;</span>
options<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&apos;--proxy-server=&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x5730;&#x5740;&apos;</span><span class="token punctuation">)</span> <span class="token comment"># &#x8BBE;&#x7F6E;&#x4EE3;&#x7406;</span>
browser <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token string">&apos;./chromedriver&apos;</span><span class="token punctuation">,</span>chrome_options<span class="token operator">=</span>options<span class="token punctuation">)</span>
</code></pre>
<h5 id="&#x83B7;&#x53D6;&#x7F51;&#x9875;&#x6E90;&#x7801;">&#x83B7;&#x53D6;&#x7F51;&#x9875;&#x6E90;&#x7801;</h5>
<pre><code class="lang-python">browser<span class="token punctuation">.</span>page_source
</code></pre>
<p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong> &#x83B7;&#x53D6;&#x7684;&#x7F51;&#x9875;&#x6E90;&#x7801;&#x662F;&#x7ECF;&#x8FC7; JS &#x9875;&#x9762;&#x6267;&#x884C;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x6E90;&#x7801;</p>
<h5 id="cookies-&#x64CD;&#x4F5C;&#xFF08;&#x975E;&#x5E38;&#x91CD;&#x8981;&#xFF09;">cookies &#x64CD;&#x4F5C;&#xFF08;&#x975E;&#x5E38;&#x91CD;&#x8981;&#xFF09;</h5>
<ul>
<li>&#x83B7;&#x53D6;&#x6240;&#x6709;Cookies<pre><code class="lang-python">browser<span class="token punctuation">.</span>get_cookies<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</li>
<li>&#x901A;&#x8FC7;&#x540D;&#x5B57;&#x83B7;&#x53D6;Cookie<pre><code class="lang-python">browser<span class="token punctuation">.</span>get_cookie<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</li>
<li>&#x6DFB;&#x52A0;Cookie<pre><code class="lang-python">browser<span class="token punctuation">.</span>add_cookie<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</li>
<li>&#x901A;&#x8FC7;&#x540D;&#x5B57;&#x5220;&#x9664;Cookie<pre><code class="lang-python">browser<span class="token punctuation">.</span>delete_cookie<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</li>
<li>&#x5220;&#x9664;&#x6240;&#x6709;Cookie<pre><code class="lang-Python">browser.delete_all_cookies()
</code></pre>
</li>
</ul>
<h5 id="&#x6267;&#x884C;-javascript-&#x4EE3;&#x7801;">&#x6267;&#x884C; <code>javascript</code> &#x4EE3;&#x7801;</h5>
<pre><code class="lang-python">browser<span class="token punctuation">.</span>execute_script<span class="token punctuation">(</span><span class="token string">&quot;input = document.getElementById(&apos;kw&apos;);input.style.border = &apos;5px solid red&apos;&quot;</span><span class="token punctuation">)</span>
</code></pre>
</div></div></div></sec>
<sec data-title="selenium &#x4E09;&#x79CD;&#x7B49;&#x5F85;&#x65B9;&#x5F0F;" data-id="section05" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>selenium &#x4E09;&#x79CD;&#x7B49;&#x5F85;&#x65B9;&#x5F0F;<a class="pull-right section atTitle btn btn-default" target="section05"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section05"><div class="panel-body">
<h4 id="&#x95EE;&#x9898;&#x63CF;&#x8FF0;">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h4>
<p>&#x5F53;&#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x65F6;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x6B63;&#x5728;&#x52A0;&#x8F7D;&#x9875;&#x9762;&#x540C;&#x65F6;&#x53C8;&#x53BB;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x5BFC;&#x81F4;&#x6D4F;&#x89C8;&#x5668;&#x5BFB;&#x627E;&#x4E0D;&#x5230;&#x9700;&#x8981;&#x64CD;&#x4F5C;&#x7684;&#x5143;&#x7D20;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;</p>
<h4 id="&#x89E3;&#x51B3;&#x65B9;&#x6848;">&#x89E3;&#x51B3;&#x65B9;&#x6848;</h4>
<ul>
<li><p>&#x65B9;&#x5F0F;&#x4E00;&#xFF1A;&#x5F3A;&#x5236;&#x7B49;&#x5F85;&#xFF0C;&#x6D6A;&#x8D39;&#x65F6;&#x95F4;</p>
<pre><code class="lang-python">time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>&#x79D2;&#x6570;<span class="token punctuation">)</span>
</code></pre>
</li>
<li><p>&#x65B9;&#x5F0F;&#x4E8C;&#xFF1A;&#x9690;&#x6027;&#x7B49;&#x5F85;</p>
<pre><code class="lang-python">browser<span class="token punctuation">.</span>implicitly_wait<span class="token punctuation">(</span>&#x7B49;&#x5F85;&#x65F6;&#x95F4;<span class="token punctuation">)</span>
</code></pre>
</li>
<li><p>&#x65B9;&#x5F0F;&#x4E09;&#xFF1A;&#x663E;&#x6027;&#x7B49;&#x5F85;&#xFF0C;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x90FD;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x5B9A;&#x4E49;&#x68C0;&#x67E5;&#x6761;&#x4EF6;</p>
<ul>
<li><p>&#x624B;&#x52A8;&#x7F16;&#x5199;&#x65B9;&#x5F0F;</p>
<pre><code class="lang-python"><span class="token comment"># &#x663E;&#x6027;&#x7B49;&#x5F85;-&#x624B;&#x52A8;&#x7F16;&#x5199;</span>
t <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># &#x5B9A;&#x4E49;&#x8D85;&#x65F6;&#x65F6;&#x95F4;</span>
timeout <span class="token operator">=</span> <span class="token number">60</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token comment"># &#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x95F4;&#x9694;</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span>
        url_element <span class="token operator">=</span> browser<span class="token punctuation">.</span>find_element_by_class_name<span class="token punctuation">(</span><span class="token string">&quot;favurl&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    <span class="token keyword">except</span><span class="token punctuation">:</span>
        <span class="token comment"># &#x8D85;&#x65F6;&#x5904;&#x7406;</span>
        <span class="token keyword">if</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> t <span class="token operator">&gt;</span> timeout<span class="token punctuation">:</span>
            <span class="token keyword">break</span>
        <span class="token keyword">pass</span>
</code></pre>
</li>
<li><p>&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x663E;&#x6027;&#x7B49;&#x5F85;API</p>
<pre><code class="lang-python"><span class="token comment"># &#x5BFC;&#x5165;&#x663E;&#x6027;&#x7B49;&#x5F85;&#x7684;API&#x9700;&#x8981;&#x7684;&#x6A21;&#x5757;</span>
<span class="token comment"># 1&gt; &#x7B49;&#x5F85;&#x5BF9;&#x8C61;&#x6A21;&#x5757;</span>
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>support<span class="token punctuation">.</span>wait <span class="token keyword">import</span> WebDriverWait
<span class="token comment"># 2&gt; &#x5BFC;&#x5165;&#x7B49;&#x5F85;&#x6761;&#x4EF6;&#x6A21;&#x5757;</span>
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>support <span class="token keyword">import</span> expected_conditions <span class="token keyword">as</span> EC
<span class="token comment"># 3&gt; &#x5BFC;&#x5165;&#x67E5;&#x8BE2;&#x5143;&#x7D20;&#x6A21;&#x5757;</span>
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

<span class="token comment"># &#x4F7F;&#x7528;selenium api &#x5B9E;&#x73B0;&#x663E;&#x6027;&#x7B49;&#x5F85;</span>
<span class="token comment"># 1&gt; &#x521B;&#x5EFA;&#x7B49;&#x5F85;&#x5BF9;&#x8C61;</span>
<span class="token comment"># &#x53C2;&#x6570;&#x4E00; &#x6D4F;&#x89C8;&#x5668;&#x5BF9;&#x8C61;</span>
<span class="token comment"># &#x53C2;&#x6570;&#x4E8C; &#x8D85;&#x65F6;&#x65F6;&#x95F4;</span>
<span class="token comment"># &#x53C2;&#x6570;&#x4E09; &#x68C0;&#x67E5;&#x5143;&#x7D20;&#x65F6;&#x95F4;&#x95F4;&#x9694;</span>
wait <span class="token operator">=</span> WebDriverWait<span class="token punctuation">(</span>browser<span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">0.1</span><span class="token punctuation">)</span>
<span class="token comment"># presence_of_element_located &#x68C0;&#x67E5;&#x5143;&#x7D20;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x5143;&#x7956;&#xFF0C;&#x5143;&#x7956;&#x5185;&#x90E8;&#x63CF;&#x8FF0;&#x7B49;&#x5F85;&#x5143;&#x7D20;&#x67E5;&#x8BE2;&#x65B9;&#x6848;</span>
<span class="token comment"># visibility_of_element_located &#x68C0;&#x67E5;&#x5143;&#x7D20;&#x662F;&#x5426;&#x53EF;&#x89C1;</span>
url_element<span class="token operator">=</span> wait<span class="token punctuation">.</span>until<span class="token punctuation">(</span>EC<span class="token punctuation">.</span>presence_of_element_located<span class="token punctuation">(</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>CLASS_NAME<span class="token punctuation">,</span><span class="token string">&quot;favurl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</li>
</ul>
</li>
</ul>
</div></div></div></sec>
<sec data-title="selenium &#x7A97;&#x53E3;&#x5207;&#x6362;" data-id="section06" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>selenium &#x7A97;&#x53E3;&#x5207;&#x6362;<a class="pull-right section atTitle btn btn-default" target="section06"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section06"><div class="panel-body">
<h4 id="&#x95EE;&#x9898;&#x63CF;&#x8FF0;">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h4>
<p>&#x6D4F;&#x89C8;&#x5668;&#x53EF;&#x80FD;&#x4F1A;&#x6253;&#x5F00;&#x591A;&#x4E2A;&#x7F51;&#x9875;&#xFF0C;&#x9700;&#x8981;&#x5B9A;&#x4F4D;&#x5F53;&#x524D;&#x83B7;&#x53D6;&#x7684;&#x7F51;&#x9875;&#x5143;&#x7D20;&#x662F;&#x54EA;&#x4E2A;&#x7A97;&#x4F53;</p>
<h4 id="&#x89E3;&#x51B3;&#x65B9;&#x6848;">&#x89E3;&#x51B3;&#x65B9;&#x6848;</h4>
<blockquote>
<p>&#x901A;&#x8FC7; <code>browser.switch_to.window</code> &#x5207;&#x6362;&#x7A97;&#x53E3;</p>
<pre><code class="lang-python"><span class="token comment"># &#x901A;&#x8FC7;&#x70B9;&#x51FB;&#x53EF;&#x80FD;&#x4F1A;&#x6253;&#x5F00;&#x7F51;&#x9875;</span>
<span class="token comment"># &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x7A97;&#x4F53;&#x7684;&#x5217;&#x8868;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>window_handles<span class="token punctuation">)</span>
<span class="token comment"># &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x9009;&#x4E2D;&#x7A97;&#x4F53;&#x7684;&#x540D;&#x79F0;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>current_window_handle<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;&#x5207;&#x6362;&#x524D;&#xFF1A;&quot;</span><span class="token punctuation">,</span>browser<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
<span class="token comment"># &#x5207;&#x6362;&#x7A97;&#x4F53;</span>
browser<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>window<span class="token punctuation">(</span>browser<span class="token punctuation">.</span>window_handles<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;&#x5207;&#x6362;&#x540E;:&quot;</span><span class="token punctuation">,</span>browser<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
</code></pre>
</blockquote>
</div></div></div></sec>
<sec data-title="selenium ifrme&#x5207;&#x6362;" data-id="section07" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>selenium ifrme&#x5207;&#x6362;<a class="pull-right section atTitle btn btn-default" target="section07"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section07"><div class="panel-body">
<h4 id="&#x95EE;&#x9898;&#x63CF;&#x8FF0;">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h4>
<p>&#x6D4F;&#x89C8;&#x5668;&#x7F51;&#x9875;&#x4E2D;&#x53EF;&#x80FD;&#x5305;&#x542B; iframe &#x7F51;&#x9875;&#xFF0C;&#x9700;&#x8981;&#x83B7;&#x53D6; iframe &#x7F51;&#x9875;&#x5143;&#x7D20;</p>
<h4 id="&#x89E3;&#x51B3;&#x65B9;&#x6848;">&#x89E3;&#x51B3;&#x65B9;&#x6848;</h4>
<blockquote>
<p>&#x901A;&#x8FC7; <code>browser.switch_to.frame</code> &#x5207;&#x6362;iframe</p>
<pre><code class="lang-python"><span class="token comment">#!/usr/bin/python3</span>
<span class="token comment"># -*- coding: utf-8 -*-</span>
<span class="token comment"># 0. pip install selenium</span>
<span class="token keyword">import</span> time
<span class="token comment"># 1. &#x5BFC;&#x5165;&#x6A21;&#x5757;</span>
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver
<span class="token comment"># 2. &#x521B;&#x5EFA;&#x6D4F;&#x89C8;&#x5668;&#x5BF9;&#x8C61;</span>
<span class="token comment"># &#x53C2;&#x6570;&#x9A71;&#x52A8;&#x8DEF;&#x5F84;</span>
browser <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token string">&apos;./chromedriver&apos;</span><span class="token punctuation">)</span>
<span class="token comment"># 3. &#x8F93;&#x5165;&#x7F51;&#x5740;</span>
browser<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://books.czwblog.com/iframe1.html&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;&#x5207;&#x6362;&#x524D;:&quot;</span><span class="token punctuation">,</span>browser<span class="token punctuation">.</span>page_source<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token comment"># &#x5207;&#x6362; iframe</span>
<span class="token comment"># 1&gt; &#x83B7;&#x53D6;iframe &#x5143;&#x7D20;&#x5BF9;&#x8C61;</span>
iframe_element <span class="token operator">=</span> browser<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">&apos;iframe2&apos;</span><span class="token punctuation">)</span>
<span class="token comment"># 2&gt; &#x5207;&#x6362; iframe</span>
browser<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>frame<span class="token punctuation">(</span>iframe_element<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;&#x5207;&#x6362;&#x540E;:&quot;</span><span class="token punctuation">,</span>browser<span class="token punctuation">.</span>page_source<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token comment"># 3&gt; &#x5207;&#x6362;&#x56DE; &#x4E3B;&#x7A97;&#x53E3;</span>
browser<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>default_content<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;&#x5207;&#x56DE;&#x540E;:&quot;</span><span class="token punctuation">,</span>browser<span class="token punctuation">.</span>page_source<span class="token punctuation">)</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token comment"># &#x6700;&#x540E; &#x9000;&#x51FA;&#x6D4F;&#x89C8;&#x5668;</span>
browser<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</blockquote>
</div></div></div></sec>
<sec data-title="&#x6848;&#x4F8B;&#x4E00;&#x3001;&#x6597;&#x9C7C;&#x623F;&#x95F4;&#x722C;&#x866B;" data-id="section08" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>&#x6848;&#x4F8B;&#x4E00;&#x3001;&#x6597;&#x9C7C;&#x623F;&#x95F4;&#x722C;&#x866B;<a class="pull-right section atTitle btn btn-default" target="section08"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section08"><div class="panel-body">
<h4 id="&#x722C;&#x53D6;&#x76EE;&#x6807;">&#x722C;&#x53D6;&#x76EE;&#x6807;</h4>
<p><a href="https://www.douyu.com/directory/all" target="_blank">https://www.douyu.com/directory/all</a></p>
<h4 id="&#x722C;&#x53D6;&#x6D41;&#x7A0B;">&#x722C;&#x53D6;&#x6D41;&#x7A0B;</h4>
<ul>
<li>&#x722C;&#x53D6;&#x7B2C;&#x4E00;&#x9875;&#x6570;&#x636E;<ul>
<li>&#x83B7;&#x53D6;&#x6240;&#x6709; li &#x5143;&#x7D20;&#xFF08;&#x623F;&#x95F4;&#x5185;&#x5BB9;&#x5757;&#xFF09;</li>
<li>&#x4ECE; li &#x5143;&#x7D20;&#x4E2D;&#x63D0;&#x53D6;&#x5177;&#x4F53;&#x6570;&#x636E;<ul>
<li>&#x623F;&#x95F4;&#x6807;&#x9898;</li>
<li>&#x4F5C;&#x8005;</li>
<li>&#x623F;&#x95F4;&#x5C01;&#x9762;&#x56FE;</li>
</ul>
</li>
</ul>
</li>
<li>&#x5FAA;&#x73AF;&#x6A21;&#x62DF;&#x70B9;&#x51FB;&#x4E0B;&#x4E00;&#x9875;<ul>
<li>&#x5982;&#x679C;&#x5BFB;&#x627E;&#x4E0D;&#x5230;&#x4E0B;&#x4E00;&#x9875;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x5219;&#x9000;&#x51FA;</li>
</ul>
</li>
</ul>
<h4 id="&#x5B9E;&#x73B0;&#x4EE3;&#x7801;">&#x5B9E;&#x73B0;&#x4EE3;&#x7801;</h4>
<pre><code class="lang-Python">#!/usr/bin/python3
# -*- coding: utf-8 -*-

from selenium import webdriver
import time

browser = webdriver.Chrome(&apos;./chromedriver&apos;)

browser.get(&quot;https://www.douyu.com/directory/all&quot;)

while True:
    time.sleep(1)
    li_list = browser.find_elements_by_xpath(&apos;//ul[@id=&quot;live-list-contentbox&quot;]/li&apos;)
    for li in li_list:
        item = {}
        item[&quot;title&quot;] = li.find_element_by_class_name(&quot;ellipsis&quot;).text
        item[&quot;author&quot;] = li.find_element_by_css_selector(&apos;.dy-name.ellipsis.fl&apos;).text
        item[&quot;room_img_url&quot;] = li.find_element_by_class_name(&quot;JS_listthumb&quot;).get_attribute(&quot;data-original&quot;)
        print(item)

    next_element = browser.find_element_by_link_text(&quot;&#x4E0B;&#x4E00;&#x9875;&quot;)
    if next_element.get_attribute(&quot;class&quot;) == &quot;shark-pager-item current&quot;:
        next_element.click()
    else:
        break

browser.quit()
</code></pre>
</div></div></div></sec>
<sec data-title="&#x6848;&#x4F8B;&#x4E8C;&#x3001;&#x7F51;&#x6613;&#x4E91;&#x97F3;&#x4E50;&#xFF08;&#x56DE;&#x5BB6;&#x4F5C;&#x4E1A;&#xFF09;" data-id="section09" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>&#x6848;&#x4F8B;&#x4E8C;&#x3001;&#x7F51;&#x6613;&#x4E91;&#x97F3;&#x4E50;&#xFF08;&#x56DE;&#x5BB6;&#x4F5C;&#x4E1A;&#xFF09;<a class="pull-right section atTitle btn btn-default" target="section09"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="section09"><div class="panel-body">
<h4 id="&#x722C;&#x53D6;&#x76EE;&#x6807;">&#x722C;&#x53D6;&#x76EE;&#x6807;</h4>
<p><a href="http://music.163.com/#/discover/playlist" target="_blank">http://music.163.com/#/discover/playlist</a></p>
<h4 id="&#x5B9E;&#x73B0;&#x601D;&#x8DEF;">&#x5B9E;&#x73B0;&#x601D;&#x8DEF;</h4>
<h4 id="&#x5B9E;&#x73B0;&#x4EE3;&#x7801;">&#x5B9E;&#x73B0;&#x4EE3;&#x7801;</h4>
<pre><code class="lang-python"><span class="token comment">#!/usr/bin/python3</span>
<span class="token comment"># -*- coding: utf-8 -*-</span>

<span class="token comment"># 1. &#x5BFC;&#x5165;&#x6A21;&#x5757;</span>
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token keyword">import</span> time

<span class="token comment"># 2. &#x6784;&#x5EFA;&#x6D4F;&#x89C8;&#x5668;&#x5BF9;&#x8C61;</span>
browser <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token string">&apos;./chromedriver&apos;</span><span class="token punctuation">)</span>

<span class="token comment"># 3. &#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x83B7;&#x53D6;&#x6570;&#x636E;</span>
browser<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;https://music.163.com/#/discover/playlist&quot;</span><span class="token punctuation">)</span>



<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token comment"># &#x5207;&#x6362;&#x5230; iframe &#x4E2D;</span>
    iframe_element <span class="token operator">=</span> browser<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">&quot;g_iframe&quot;</span><span class="token punctuation">)</span>
    browser<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>frame<span class="token punctuation">(</span>iframe_element<span class="token punctuation">)</span>

    <span class="token comment"># &#x4ECE;&#x7F51;&#x9875;&#x4E2D;&#x63D0;&#x53D6;&#x6B4C;&#x66F2;</span>
    li_list <span class="token operator">=</span> browser<span class="token punctuation">.</span>find_elements_by_xpath<span class="token punctuation">(</span><span class="token string">&apos;//ul[@id=&quot;m-pl-container&quot;]/li&apos;</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> li <span class="token keyword">in</span> li_list<span class="token punctuation">:</span>
        item <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        item<span class="token punctuation">[</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> li<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">&apos;./p[@class=&quot;dec&quot;]/a&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text
        item<span class="token punctuation">[</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> li<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">&quot;.nm.nm-icn.f-thide.s-fc3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text
        item<span class="token punctuation">[</span><span class="token string">&quot;img&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> li<span class="token punctuation">.</span>find_element_by_class_name<span class="token punctuation">(</span><span class="token string">&quot;j-flag&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get_attribute<span class="token punctuation">(</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>

    next_button <span class="token operator">=</span> browser<span class="token punctuation">.</span>find_element_by_link_text<span class="token punctuation">(</span><span class="token string">&quot;&#x4E0B;&#x4E00;&#x9875;&quot;</span><span class="token punctuation">)</span>
    next_url <span class="token operator">=</span> next_button<span class="token punctuation">.</span>get_attribute<span class="token punctuation">(</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">)</span>
    <span class="token comment"># next_button.click()</span>
    browser<span class="token punctuation">.</span>get<span class="token punctuation">(</span>next_url<span class="token punctuation">)</span>

time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token comment"># 4. &#x9000;&#x51FA;&#x6D4F;&#x89C8;&#x5668;</span>
browser<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</div></div></div></sec>
<sec data-title="&#x603B;&#x7ED3;" data-id="sectionend" data-collapse="true"><div class="panel panel-default"><div class="panel-heading"><h2>&#x603B;&#x7ED3;<a class="pull-right section atTitle btn btn-default" target="sectionend"><span class="fa fa-angle-up"></span></a></h2></div><div class="panel-collapse in" id="sectionend"><div class="panel-body">
<ul>
<li>selenium &#x6A21;&#x5757;&#x548C; &#x6D4F;&#x89C8;&#x5668;&#x9A71;&#x52A8;&#x7684;&#x5B89;&#x88C5;<ul>
<li>&#x5B89;&#x88C5; selenium &#x6A21;&#x5757;</li>
<li>&#x4E0B;&#x8F7D;&#x9A71;&#x52A8;</li>
</ul>
</li>
<li>&#x4F7F;&#x7528; selenium &#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x65B9;&#x6CD5;<ul>
<li><code>browser.get(url)</code></li>
<li><code>browser.find_element_by_xxx</code></li>
<li><code>browser.find_elements_by_xxx</code></li>
<li><code>element.send_keys()</code></li>
<li><code>element.click()</code></li>
<li><code>browser.page_source</code></li>
<li>...</li>
</ul>
</li>
<li>&#x4F7F;&#x7528; selenium &#x63D0;&#x53D6;&#x6570;&#x636E;<ul>
<li><code>element.text</code></li>
<li><code>element.get_attribute(&apos;&#x5C5E;&#x6027;&#x540D;&apos;)</code></li>
</ul>
</li>
</ul>
</div></div></div></sec></body></html>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../高级技巧/高性能爬虫.html" class="navigation navigation-prev " aria-label="Previous page: 高性能爬虫"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../高级技巧/打码平台.html" class="navigation navigation-next " aria-label="Next page: 打码平台"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-splitter/splitter.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

    
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sectionx/sectionx.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-ace/ace/ace.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-ace/ace.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"expandable-chapters-small":{},"fontsettings":{"theme":"white","family":"sans","size":2},"prism":{"css":["prismjs/themes/prism-solarizedlight.css"],"lang":{"flow":"typescript"},"ignore":["mermaid","eval-js"],"sectionx":{"tag":"b"},"include-codeblock":{"template":"ace","unindent":true,"theme":"monokai"}},"splitter":{},"mermaid":{},"sectionx":{},"include-codeblock":{"check":false,"edit":false,"lang":"","fixlang":false,"template":"default","theme":"chrome","unindent":false},"ace":{},"emphasize":{},"toggle-chapters":{},"codeblock-filename":{}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
    </body>
    <!-- End of book 爬虫课程 -->
</html>
